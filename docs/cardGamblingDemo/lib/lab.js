/*! For license information please see lab.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("lab",[],e):"object"==typeof exports?exports.lab=e():t.lab=e()}(self,(function(){return(()=>{var t={715:(t,e,n)=>{"use strict";var r;function i(t){return!!t&&("object"==(void 0===t?"undefined":a(t))||"function"==typeof t)}var o,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},u=(o=null,(s=function(t,e){if(!i(t)||!i(e))throw new TypeError("Cannot create proxy with a non-object as target or handler");var n=function(){};o=function(){n=function(t){throw new TypeError("Cannot perform '"+t+"' on a proxy that has been revoked")}};var r=e;for(var s in e={get:null,set:null,apply:null,construct:null},r){if(!(s in e))throw new TypeError("Proxy polyfill does not support trap '"+s+"'");e[s]=r[s]}"function"==typeof r&&(e.apply=r.apply.bind(r));var a=this,u=!1,c="function"==typeof t;(e.apply||e.construct||c)&&(a=function(){var r=this&&this.constructor===a;if(n(r?"construct":"apply"),r&&e.construct)return e.construct.call(this,t,arguments);if(!r&&e.apply)return e.apply(t,this,arguments);if(c){if(r){var i=Array.prototype.slice.call(arguments);i.unshift(t);var o=t.bind.apply(t,i);return new o}return t.apply(this,arguments)}throw new TypeError(r?"not a constructor":"not a function")},u=!0);var l=e.get?function(t){return n("get"),e.get(this,t,a)}:function(t){return n("get"),this[t]},f=e.set?function(t,r){n("set"),e.set(this,t,r,a)}:function(t,e){n("set"),this[t]=e},h=Object.getOwnPropertyNames(t),p={};h.forEach((function(e){if(!u||!(e in a)){var n={enumerable:!!Object.getOwnPropertyDescriptor(t,e).enumerable,get:l.bind(t,e),set:f.bind(t,e)};Object.defineProperty(a,e,n),p[e]=!0}}));var d=!0;if(Object.setPrototypeOf?Object.setPrototypeOf(a,Object.getPrototypeOf(t)):a.__proto__?a.__proto__=t.__proto__:d=!1,e.get||!d)for(var g in t)p[g]||Object.defineProperty(a,g,{get:l.bind(t,g)});return Object.seal(t),Object.seal(a),a}).revocable=function(t,e){return{proxy:new s(t,e),revoke:o}},s);"object"===a(e)?t.exports="function"!=typeof Proxy?u:Proxy:void 0===(r=function(){return"function"!=typeof Proxy?u:Proxy}.call(e,n,e,t))||(t.exports=r)},614:(t,e,n)=>{t.exports=n(715)},782:function(t,e,n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){"use strict";function e(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function r(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){u(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(t,e,n){var a=s.URL||s.webkitURL,u=document.createElement("a");e=e||t.name||"download",u.download=e,u.rel="noopener","string"==typeof t?(u.href=t,u.origin===location.origin?o(u):i(u.href)?r(t,e,n):o(u,u.target="_blank")):(u.href=a.createObjectURL(t),setTimeout((function(){a.revokeObjectURL(u.href)}),4e4),setTimeout((function(){o(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,s){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,s),n);else if(i(t))r(t,n,s);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout((function(){o(a)}))}}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return r(t,e,n);var o="application/octet-stream"===t.type,u=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&u||a)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},l.readAsDataURL(t)}else{var f=s.URL||s.webkitURL,h=f.createObjectURL(t);i?i.location=h:location.href=h,i=null,setTimeout((function(){f.revokeObjectURL(h)}),4e4)}});s.saveAs=u.saveAs=u,t.exports=u})?r.apply(e,i):r)||(t.exports=o)},421:function(t,e,n){var r;!function(t,i,o){function s(t){var e,n=this,r=(e=4022871197,function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}function a(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function u(t,e){var n=new s(t),r=e&&e.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(e,n,e,i))||(i.exports=r):this.alea=u}(0,t=n.nmd(t),n.amdD)},137:()=>{!function(){"use strict";if(self.document){var t=KeyboardEvent.prototype,e=Object.getOwnPropertyDescriptor(t,"key");if(e){var n={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};Object.defineProperty(t,"key",{get:function(){var t=e.get.call(this);return n.hasOwnProperty(t)?n[t]:t}})}}}()},486:function(t,e,n){var r;t=n.nmd(t),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=16,c=32,l=64,f=128,h=256,p=1/0,d=9007199254740991,g=NaN,m=4294967295,v=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",l],["rearg",h]],w="[object Arguments]",b="[object Array]",y="[object Boolean]",_="[object Date]",x="[object Error]",j="[object Function]",O="[object GeneratorFunction]",k="[object Map]",E="[object Number]",S="[object Object]",A="[object Promise]",C="[object RegExp]",T="[object Set]",R="[object String]",$="[object Symbol]",P="[object WeakMap]",M="[object ArrayBuffer]",F="[object DataView]",I="[object Float32Array]",q="[object Float64Array]",z="[object Int8Array]",L="[object Int16Array]",D="[object Int32Array]",N="[object Uint8Array]",B="[object Uint8ClampedArray]",U="[object Uint16Array]",W="[object Uint32Array]",H=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,Z=/[&<>"']/g,J=RegExp(K.source),Y=RegExp(Z.source),X=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(it.source),st=/^\s+/,at=/\s/,ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,lt=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ht=/[()=,{}\[\]\/\s]/,pt=/\\(\\)?/g,dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,mt=/^[-+]0x[0-9a-f]+$/i,vt=/^0b[01]+$/i,wt=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,yt=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xt=/($^)/,jt=/['\n\r\u2028\u2029\\]/g,Ot="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",kt="\\u2700-\\u27bf",Et="a-z\\xdf-\\xf6\\xf8-\\xff",St="A-Z\\xc0-\\xd6\\xd8-\\xde",At="\\ufe0e\\ufe0f",Ct="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Tt="['’]",Rt="[\\ud800-\\udfff]",$t="["+Ct+"]",Pt="["+Ot+"]",Mt="\\d+",Ft="[\\u2700-\\u27bf]",It="["+Et+"]",qt="[^\\ud800-\\udfff"+Ct+Mt+kt+Et+St+"]",zt="\\ud83c[\\udffb-\\udfff]",Lt="[^\\ud800-\\udfff]",Dt="(?:\\ud83c[\\udde6-\\uddff]){2}",Nt="[\\ud800-\\udbff][\\udc00-\\udfff]",Bt="["+St+"]",Ut="(?:"+It+"|"+qt+")",Wt="(?:"+Bt+"|"+qt+")",Ht="(?:['’](?:d|ll|m|re|s|t|ve))?",Vt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Gt="(?:"+Pt+"|"+zt+")"+"?",Kt="[\\ufe0e\\ufe0f]?",Zt=Kt+Gt+("(?:\\u200d(?:"+[Lt,Dt,Nt].join("|")+")"+Kt+Gt+")*"),Jt="(?:"+[Ft,Dt,Nt].join("|")+")"+Zt,Yt="(?:"+[Lt+Pt+"?",Pt,Dt,Nt,Rt].join("|")+")",Xt=RegExp(Tt,"g"),Qt=RegExp(Pt,"g"),te=RegExp(zt+"(?="+zt+")|"+Yt+Zt,"g"),ee=RegExp([Bt+"?"+It+"+"+Ht+"(?="+[$t,Bt,"$"].join("|")+")",Wt+"+"+Vt+"(?="+[$t,Bt+Ut,"$"].join("|")+")",Bt+"?"+Ut+"+"+Ht,Bt+"+"+Vt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mt,Jt].join("|"),"g"),ne=RegExp("[\\u200d\\ud800-\\udfff"+Ot+At+"]"),re=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ie=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],oe=-1,se={};se[I]=se[q]=se[z]=se[L]=se[D]=se[N]=se[B]=se[U]=se[W]=!0,se[w]=se[b]=se[M]=se[y]=se[F]=se[_]=se[x]=se[j]=se[k]=se[E]=se[S]=se[C]=se[T]=se[R]=se[P]=!1;var ae={};ae[w]=ae[b]=ae[M]=ae[F]=ae[y]=ae[_]=ae[I]=ae[q]=ae[z]=ae[L]=ae[D]=ae[k]=ae[E]=ae[S]=ae[C]=ae[T]=ae[R]=ae[$]=ae[N]=ae[B]=ae[U]=ae[W]=!0,ae[x]=ae[j]=ae[P]=!1;var ue={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ce=parseFloat,le=parseInt,fe="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,he="object"==typeof self&&self&&self.Object===Object&&self,pe=fe||he||Function("return this")(),de=e&&!e.nodeType&&e,ge=de&&t&&!t.nodeType&&t,me=ge&&ge.exports===de,ve=me&&fe.process,we=function(){try{var t=ge&&ge.require&&ge.require("util").types;return t||ve&&ve.binding&&ve.binding("util")}catch(t){}}(),be=we&&we.isArrayBuffer,ye=we&&we.isDate,_e=we&&we.isMap,xe=we&&we.isRegExp,je=we&&we.isSet,Oe=we&&we.isTypedArray;function ke(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ee(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function Se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ae(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ce(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Te(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function Re(t,e){return!!(null==t?0:t.length)&&Ne(t,e,0)>-1}function $e(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Pe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Me(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Fe(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Ie(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function qe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ze=He("length");function Le(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function De(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Ne(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):De(t,Ue,n)}function Be(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Ue(t){return t!=t}function We(t,e){var n=null==t?0:t.length;return n?Ke(t,e)/n:g}function He(t){return function(e){return null==e?i:e[t]}}function Ve(t){return function(e){return null==t?i:t[e]}}function Ge(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Ke(t,e){for(var n,r=-1,o=t.length;++r<o;){var s=e(t[r]);s!==i&&(n=n===i?s:n+s)}return n}function Ze(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Je(t){return t?t.slice(0,gn(t)+1).replace(st,""):t}function Ye(t){return function(e){return t(e)}}function Xe(t,e){return Pe(e,(function(e){return t[e]}))}function Qe(t,e){return t.has(e)}function tn(t,e){for(var n=-1,r=t.length;++n<r&&Ne(e,t[n],0)>-1;);return n}function en(t,e){for(var n=t.length;n--&&Ne(e,t[n],0)>-1;);return n}function nn(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var rn=Ve({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),on=Ve({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(t){return"\\"+ue[t]}function an(t){return ne.test(t)}function un(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function cn(t,e){return function(n){return t(e(n))}}function ln(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[i++]=n)}return o}function fn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function hn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function pn(t){return an(t)?function(t){var e=te.lastIndex=0;for(;te.test(t);)++e;return e}(t):ze(t)}function dn(t){return an(t)?function(t){return t.match(te)||[]}(t):function(t){return t.split("")}(t)}function gn(t){for(var e=t.length;e--&&at.test(t.charAt(e)););return e}var mn=Ve({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function t(e){var n,r=(e=null==e?pe:vn.defaults(pe.Object(),e,vn.pick(pe,ie))).Array,at=e.Date,Ot=e.Error,kt=e.Function,Et=e.Math,St=e.Object,At=e.RegExp,Ct=e.String,Tt=e.TypeError,Rt=r.prototype,$t=kt.prototype,Pt=St.prototype,Mt=e["__core-js_shared__"],Ft=$t.toString,It=Pt.hasOwnProperty,qt=0,zt=(n=/[^.]+$/.exec(Mt&&Mt.keys&&Mt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Lt=Pt.toString,Dt=Ft.call(St),Nt=pe._,Bt=At("^"+Ft.call(It).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=me?e.Buffer:i,Wt=e.Symbol,Ht=e.Uint8Array,Vt=Ut?Ut.allocUnsafe:i,Gt=cn(St.getPrototypeOf,St),Kt=St.create,Zt=Pt.propertyIsEnumerable,Jt=Rt.splice,Yt=Wt?Wt.isConcatSpreadable:i,te=Wt?Wt.iterator:i,ne=Wt?Wt.toStringTag:i,ue=function(){try{var t=po(St,"defineProperty");return t({},"",{}),t}catch(t){}}(),fe=e.clearTimeout!==pe.clearTimeout&&e.clearTimeout,he=at&&at.now!==pe.Date.now&&at.now,de=e.setTimeout!==pe.setTimeout&&e.setTimeout,ge=Et.ceil,ve=Et.floor,we=St.getOwnPropertySymbols,ze=Ut?Ut.isBuffer:i,Ve=e.isFinite,wn=Rt.join,bn=cn(St.keys,St),yn=Et.max,_n=Et.min,xn=at.now,jn=e.parseInt,On=Et.random,kn=Rt.reverse,En=po(e,"DataView"),Sn=po(e,"Map"),An=po(e,"Promise"),Cn=po(e,"Set"),Tn=po(e,"WeakMap"),Rn=po(St,"create"),$n=Tn&&new Tn,Pn={},Mn=No(En),Fn=No(Sn),In=No(An),qn=No(Cn),zn=No(Tn),Ln=Wt?Wt.prototype:i,Dn=Ln?Ln.valueOf:i,Nn=Ln?Ln.toString:i;function Bn(t){if(ia(t)&&!Gs(t)&&!(t instanceof Vn)){if(t instanceof Hn)return t;if(It.call(t,"__wrapped__"))return Bo(t)}return new Hn(t)}var Un=function(){function t(){}return function(e){if(!ra(e))return{};if(Kt)return Kt(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Wn(){}function Hn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Vn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Zn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Jn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Zn;++e<n;)this.add(t[e])}function Yn(t){var e=this.__data__=new Kn(t);this.size=e.size}function Xn(t,e){var n=Gs(t),r=!n&&Vs(t),i=!n&&!r&&Ys(t),o=!n&&!r&&!i&&ha(t),s=n||r||i||o,a=s?Ze(t.length,Ct):[],u=a.length;for(var c in t)!e&&!It.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_o(c,u))||a.push(c);return a}function Qn(t){var e=t.length;return e?t[Jr(0,e-1)]:i}function tr(t,e){return zo(Ri(t),cr(e,0,t.length))}function er(t){return zo(Ri(t))}function nr(t,e,n){(n!==i&&!Us(t[e],n)||n===i&&!(e in t))&&ar(t,e,n)}function rr(t,e,n){var r=t[e];It.call(t,e)&&Us(r,n)&&(n!==i||e in t)||ar(t,e,n)}function ir(t,e){for(var n=t.length;n--;)if(Us(t[n][0],e))return n;return-1}function or(t,e,n,r){return dr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function sr(t,e){return t&&$i(e,Ma(e),t)}function ar(t,e,n){"__proto__"==e&&ue?ue(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ur(t,e){for(var n=-1,o=e.length,s=r(o),a=null==t;++n<o;)s[n]=a?i:Ca(t,e[n]);return s}function cr(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function lr(t,e,n,r,o,s){var a,u=1&e,c=2&e,l=4&e;if(n&&(a=o?n(t,r,o,s):n(t)),a!==i)return a;if(!ra(t))return t;var f=Gs(t);if(f){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&It.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return Ri(t,a)}else{var h=vo(t),p=h==j||h==O;if(Ys(t))return ki(t,u);if(h==S||h==w||p&&!o){if(a=c||p?{}:bo(t),!u)return c?function(t,e){return $i(t,mo(t),e)}(t,function(t,e){return t&&$i(e,Fa(e),t)}(a,t)):function(t,e){return $i(t,go(t),e)}(t,sr(a,t))}else{if(!ae[h])return o?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case M:return Ei(t);case y:case _:return new r(+t);case F:return function(t,e){var n=e?Ei(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case I:case q:case z:case L:case D:case N:case B:case U:case W:return Si(t,n);case k:return new r;case E:case R:return new r(t);case C:return function(t){var e=new t.constructor(t.source,gt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case T:return new r;case $:return i=t,Dn?St(Dn.call(i)):{}}var i}(t,h,u)}}s||(s=new Yn);var d=s.get(t);if(d)return d;s.set(t,a),ca(t)?t.forEach((function(r){a.add(lr(r,e,n,r,t,s))})):oa(t)&&t.forEach((function(r,i){a.set(i,lr(r,e,n,i,t,s))}));var g=f?i:(l?c?so:oo:c?Fa:Ma)(t);return Se(g||t,(function(r,i){g&&(r=t[i=r]),rr(a,i,lr(r,e,n,i,t,s))})),a}function fr(t,e,n){var r=n.length;if(null==t)return!r;for(t=St(t);r--;){var o=n[r],s=e[o],a=t[o];if(a===i&&!(o in t)||!s(a))return!1}return!0}function hr(t,e,n){if("function"!=typeof t)throw new Tt(o);return Mo((function(){t.apply(i,n)}),e)}function pr(t,e,n,r){var i=-1,o=Re,s=!0,a=t.length,u=[],c=e.length;if(!a)return u;n&&(e=Pe(e,Ye(n))),r?(o=$e,s=!1):e.length>=200&&(o=Qe,s=!1,e=new Jn(e));t:for(;++i<a;){var l=t[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,s&&f==f){for(var h=c;h--;)if(e[h]===f)continue t;u.push(l)}else o(e,f,r)||u.push(l)}return u}Bn.templateSettings={escape:X,evaluate:Q,interpolate:tt,variable:"",imports:{_:Bn}},Bn.prototype=Wn.prototype,Bn.prototype.constructor=Bn,Hn.prototype=Un(Wn.prototype),Hn.prototype.constructor=Hn,Vn.prototype=Un(Wn.prototype),Vn.prototype.constructor=Vn,Gn.prototype.clear=function(){this.__data__=Rn?Rn(null):{},this.size=0},Gn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Gn.prototype.get=function(t){var e=this.__data__;if(Rn){var n=e[t];return n===s?i:n}return It.call(e,t)?e[t]:i},Gn.prototype.has=function(t){var e=this.__data__;return Rn?e[t]!==i:It.call(e,t)},Gn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Rn&&e===i?s:e,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(t){var e=this.__data__,n=ir(e,t);return!(n<0)&&(n==e.length-1?e.pop():Jt.call(e,n,1),--this.size,!0)},Kn.prototype.get=function(t){var e=this.__data__,n=ir(e,t);return n<0?i:e[n][1]},Kn.prototype.has=function(t){return ir(this.__data__,t)>-1},Kn.prototype.set=function(t,e){var n=this.__data__,r=ir(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Zn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(Sn||Kn),string:new Gn}},Zn.prototype.delete=function(t){var e=fo(this,t).delete(t);return this.size-=e?1:0,e},Zn.prototype.get=function(t){return fo(this,t).get(t)},Zn.prototype.has=function(t){return fo(this,t).has(t)},Zn.prototype.set=function(t,e){var n=fo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Jn.prototype.add=Jn.prototype.push=function(t){return this.__data__.set(t,s),this},Jn.prototype.has=function(t){return this.__data__.has(t)},Yn.prototype.clear=function(){this.__data__=new Kn,this.size=0},Yn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Yn.prototype.get=function(t){return this.__data__.get(t)},Yn.prototype.has=function(t){return this.__data__.has(t)},Yn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Kn){var r=n.__data__;if(!Sn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Zn(r)}return n.set(t,e),this.size=n.size,this};var dr=Fi(xr),gr=Fi(jr,!0);function mr(t,e){var n=!0;return dr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function vr(t,e,n){for(var r=-1,o=t.length;++r<o;){var s=t[r],a=e(s);if(null!=a&&(u===i?a==a&&!fa(a):n(a,u)))var u=a,c=s}return c}function wr(t,e){var n=[];return dr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function br(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=yo),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?br(a,e-1,n,r,i):Me(i,a):r||(i[i.length]=a)}return i}var yr=Ii(),_r=Ii(!0);function xr(t,e){return t&&yr(t,e,Ma)}function jr(t,e){return t&&_r(t,e,Ma)}function Or(t,e){return Te(e,(function(e){return ta(t[e])}))}function kr(t,e){for(var n=0,r=(e=_i(e,t)).length;null!=t&&n<r;)t=t[Do(e[n++])];return n&&n==r?t:i}function Er(t,e,n){var r=e(t);return Gs(t)?r:Me(r,n(t))}function Sr(t){return null==t?t===i?"[object Undefined]":"[object Null]":ne&&ne in St(t)?function(t){var e=It.call(t,ne),n=t[ne];try{t[ne]=i;var r=!0}catch(t){}var o=Lt.call(t);r&&(e?t[ne]=n:delete t[ne]);return o}(t):function(t){return Lt.call(t)}(t)}function Ar(t,e){return t>e}function Cr(t,e){return null!=t&&It.call(t,e)}function Tr(t,e){return null!=t&&e in St(t)}function Rr(t,e,n){for(var o=n?$e:Re,s=t[0].length,a=t.length,u=a,c=r(a),l=1/0,f=[];u--;){var h=t[u];u&&e&&(h=Pe(h,Ye(e))),l=_n(h.length,l),c[u]=!n&&(e||s>=120&&h.length>=120)?new Jn(u&&h):i}h=t[0];var p=-1,d=c[0];t:for(;++p<s&&f.length<l;){var g=h[p],m=e?e(g):g;if(g=n||0!==g?g:0,!(d?Qe(d,m):o(f,m,n))){for(u=a;--u;){var v=c[u];if(!(v?Qe(v,m):o(t[u],m,n)))continue t}d&&d.push(m),f.push(g)}}return f}function $r(t,e,n){var r=null==(t=To(t,e=_i(e,t)))?t:t[Do(Qo(e))];return null==r?i:ke(r,t,n)}function Pr(t){return ia(t)&&Sr(t)==w}function Mr(t,e,n,r,o){return t===e||(null==t||null==e||!ia(t)&&!ia(e)?t!=t&&e!=e:function(t,e,n,r,o,s){var a=Gs(t),u=Gs(e),c=a?b:vo(t),l=u?b:vo(e),f=(c=c==w?S:c)==S,h=(l=l==w?S:l)==S,p=c==l;if(p&&Ys(t)){if(!Ys(e))return!1;a=!0,f=!1}if(p&&!f)return s||(s=new Yn),a||ha(t)?ro(t,e,n,r,o,s):function(t,e,n,r,i,o,s){switch(n){case F:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case M:return!(t.byteLength!=e.byteLength||!o(new Ht(t),new Ht(e)));case y:case _:case E:return Us(+t,+e);case x:return t.name==e.name&&t.message==e.message;case C:case R:return t==e+"";case k:var a=un;case T:var u=1&r;if(a||(a=fn),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;r|=2,s.set(t,e);var l=ro(a(t),a(e),r,i,o,s);return s.delete(t),l;case $:if(Dn)return Dn.call(t)==Dn.call(e)}return!1}(t,e,c,n,r,o,s);if(!(1&n)){var d=f&&It.call(t,"__wrapped__"),g=h&&It.call(e,"__wrapped__");if(d||g){var m=d?t.value():t,v=g?e.value():e;return s||(s=new Yn),o(m,v,n,r,s)}}if(!p)return!1;return s||(s=new Yn),function(t,e,n,r,o,s){var a=1&n,u=oo(t),c=u.length,l=oo(e).length;if(c!=l&&!a)return!1;var f=c;for(;f--;){var h=u[f];if(!(a?h in e:It.call(e,h)))return!1}var p=s.get(t),d=s.get(e);if(p&&d)return p==e&&d==t;var g=!0;s.set(t,e),s.set(e,t);var m=a;for(;++f<c;){var v=t[h=u[f]],w=e[h];if(r)var b=a?r(w,v,h,e,t,s):r(v,w,h,t,e,s);if(!(b===i?v===w||o(v,w,n,r,s):b)){g=!1;break}m||(m="constructor"==h)}if(g&&!m){var y=t.constructor,_=e.constructor;y==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _||(g=!1)}return s.delete(t),s.delete(e),g}(t,e,n,r,o,s)}(t,e,n,r,Mr,o))}function Fr(t,e,n,r){var o=n.length,s=o,a=!r;if(null==t)return!s;for(t=St(t);o--;){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<s;){var c=(u=n[o])[0],l=t[c],f=u[1];if(a&&u[2]){if(l===i&&!(c in t))return!1}else{var h=new Yn;if(r)var p=r(l,f,c,t,e,h);if(!(p===i?Mr(f,l,3,r,h):p))return!1}}return!0}function Ir(t){return!(!ra(t)||(e=t,zt&&zt in e))&&(ta(t)?Bt:wt).test(No(t));var e}function qr(t){return"function"==typeof t?t:null==t?su:"object"==typeof t?Gs(t)?Ur(t[0],t[1]):Br(t):gu(t)}function zr(t){if(!Eo(t))return bn(t);var e=[];for(var n in St(t))It.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Lr(t){if(!ra(t))return function(t){var e=[];if(null!=t)for(var n in St(t))e.push(n);return e}(t);var e=Eo(t),n=[];for(var r in t)("constructor"!=r||!e&&It.call(t,r))&&n.push(r);return n}function Dr(t,e){return t<e}function Nr(t,e){var n=-1,i=Zs(t)?r(t.length):[];return dr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Br(t){var e=ho(t);return 1==e.length&&e[0][2]?Ao(e[0][0],e[0][1]):function(n){return n===t||Fr(n,t,e)}}function Ur(t,e){return jo(t)&&So(e)?Ao(Do(t),e):function(n){var r=Ca(n,t);return r===i&&r===e?Ta(n,t):Mr(e,r,3)}}function Wr(t,e,n,r,o){t!==e&&yr(e,(function(s,a){if(o||(o=new Yn),ra(s))!function(t,e,n,r,o,s,a){var u=$o(t,n),c=$o(e,n),l=a.get(c);if(l)return void nr(t,n,l);var f=s?s(u,c,n+"",t,e,a):i,h=f===i;if(h){var p=Gs(c),d=!p&&Ys(c),g=!p&&!d&&ha(c);f=c,p||d||g?Gs(u)?f=u:Js(u)?f=Ri(u):d?(h=!1,f=ki(c,!0)):g?(h=!1,f=Si(c,!0)):f=[]:aa(c)||Vs(c)?(f=u,Vs(u)?f=ya(u):ra(u)&&!ta(u)||(f=bo(c))):h=!1}h&&(a.set(c,f),o(f,c,r,s,a),a.delete(c));nr(t,n,f)}(t,e,a,n,Wr,r,o);else{var u=r?r($o(t,a),s,a+"",t,e,o):i;u===i&&(u=s),nr(t,a,u)}}),Fa)}function Hr(t,e){var n=t.length;if(n)return _o(e+=e<0?n:0,n)?t[e]:i}function Vr(t,e,n){e=e.length?Pe(e,(function(t){return Gs(t)?function(e){return kr(e,1===t.length?t[0]:t)}:t})):[su];var r=-1;return e=Pe(e,Ye(lo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Nr(t,(function(t,n,i){return{criteria:Pe(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;for(;++r<s;){var u=Ai(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Gr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=kr(t,s);n(a,s)&&ei(o,_i(s,t),a)}return o}function Kr(t,e,n,r){var i=r?Be:Ne,o=-1,s=e.length,a=t;for(t===e&&(e=Ri(e)),n&&(a=Pe(t,Ye(n)));++o<s;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(a,l,u,r))>-1;)a!==t&&Jt.call(a,u,1),Jt.call(t,u,1);return t}function Zr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;_o(i)?Jt.call(t,i,1):pi(t,i)}}return t}function Jr(t,e){return t+ve(On()*(e-t+1))}function Yr(t,e){var n="";if(!t||e<1||e>d)return n;do{e%2&&(n+=t),(e=ve(e/2))&&(t+=t)}while(e);return n}function Xr(t,e){return Fo(Co(t,e,su),t+"")}function Qr(t){return Qn(Ua(t))}function ti(t,e){var n=Ua(t);return zo(n,cr(e,0,n.length))}function ei(t,e,n,r){if(!ra(t))return t;for(var o=-1,s=(e=_i(e,t)).length,a=s-1,u=t;null!=u&&++o<s;){var c=Do(e[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=a){var f=u[c];(l=r?r(f,c,u):i)===i&&(l=ra(f)?f:_o(e[o+1])?[]:{})}rr(u,c,l),u=u[c]}return t}var ni=$n?function(t,e){return $n.set(t,e),t}:su,ri=ue?function(t,e){return ue(t,"toString",{configurable:!0,enumerable:!1,value:ru(e),writable:!0})}:su;function ii(t){return zo(Ua(t))}function oi(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=r(o);++i<o;)s[i]=t[i+e];return s}function si(t,e){var n;return dr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ai(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!fa(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return ui(t,e,su,n)}function ui(t,e,n,r){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=n(e))!=e,u=null===e,c=fa(e),l=e===i;o<s;){var f=ve((o+s)/2),h=n(t[f]),p=h!==i,d=null===h,g=h==h,m=fa(h);if(a)var v=r||g;else v=l?g&&(r||p):u?g&&p&&(r||!d):c?g&&p&&!d&&(r||!m):!d&&!m&&(r?h<=e:h<e);v?o=f+1:s=f}return _n(s,4294967294)}function ci(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!Us(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function li(t){return"number"==typeof t?t:fa(t)?g:+t}function fi(t){if("string"==typeof t)return t;if(Gs(t))return Pe(t,fi)+"";if(fa(t))return Nn?Nn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function hi(t,e,n){var r=-1,i=Re,o=t.length,s=!0,a=[],u=a;if(n)s=!1,i=$e;else if(o>=200){var c=e?null:Yi(t);if(c)return fn(c);s=!1,i=Qe,u=new Jn}else u=e?[]:a;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,s&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),a.push(l)}else i(u,f,n)||(u!==a&&u.push(f),a.push(l))}return a}function pi(t,e){return null==(t=To(t,e=_i(e,t)))||delete t[Do(Qo(e))]}function di(t,e,n,r){return ei(t,e,n(kr(t,e)),r)}function gi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?oi(t,r?0:o,r?o+1:i):oi(t,r?o+1:0,r?i:o)}function mi(t,e){var n=t;return n instanceof Vn&&(n=n.value()),Fe(e,(function(t,e){return e.func.apply(e.thisArg,Me([t],e.args))}),n)}function vi(t,e,n){var i=t.length;if(i<2)return i?hi(t[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=pr(s[o]||a,t[u],e,n));return hi(br(s,1),e,n)}function wi(t,e,n){for(var r=-1,o=t.length,s=e.length,a={};++r<o;){var u=r<s?e[r]:i;n(a,t[r],u)}return a}function bi(t){return Js(t)?t:[]}function yi(t){return"function"==typeof t?t:su}function _i(t,e){return Gs(t)?t:jo(t,e)?[t]:Lo(_a(t))}var xi=Xr;function ji(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:oi(t,e,n)}var Oi=fe||function(t){return pe.clearTimeout(t)};function ki(t,e){if(e)return t.slice();var n=t.length,r=Vt?Vt(n):new t.constructor(n);return t.copy(r),r}function Ei(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function Si(t,e){var n=e?Ei(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ai(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,s=fa(t),a=e!==i,u=null===e,c=e==e,l=fa(e);if(!u&&!l&&!s&&t>e||s&&a&&c&&!u&&!l||r&&a&&c||!n&&c||!o)return 1;if(!r&&!s&&!l&&t<e||l&&n&&o&&!r&&!s||u&&n&&o||!a&&o||!c)return-1}return 0}function Ci(t,e,n,i){for(var o=-1,s=t.length,a=n.length,u=-1,c=e.length,l=yn(s-a,0),f=r(c+l),h=!i;++u<c;)f[u]=e[u];for(;++o<a;)(h||o<s)&&(f[n[o]]=t[o]);for(;l--;)f[u++]=t[o++];return f}function Ti(t,e,n,i){for(var o=-1,s=t.length,a=-1,u=n.length,c=-1,l=e.length,f=yn(s-u,0),h=r(f+l),p=!i;++o<f;)h[o]=t[o];for(var d=o;++c<l;)h[d+c]=e[c];for(;++a<u;)(p||o<s)&&(h[d+n[a]]=t[o++]);return h}function Ri(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function $i(t,e,n,r){var o=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var u=e[s],c=r?r(n[u],t[u],u,n,t):i;c===i&&(c=t[u]),o?ar(n,u,c):rr(n,u,c)}return n}function Pi(t,e){return function(n,r){var i=Gs(n)?Ee:or,o=e?e():{};return i(n,t,lo(r,2),o)}}function Mi(t){return Xr((function(e,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=t.length>3&&"function"==typeof s?(o--,s):i,a&&xo(n[0],n[1],a)&&(s=o<3?i:s,o=1),e=St(e);++r<o;){var u=n[r];u&&t(e,u,r,s)}return e}))}function Fi(t,e){return function(n,r){if(null==n)return n;if(!Zs(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=St(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ii(t){return function(e,n,r){for(var i=-1,o=St(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}function qi(t){return function(e){var n=an(e=_a(e))?dn(e):i,r=n?n[0]:e.charAt(0),o=n?ji(n,1).join(""):e.slice(1);return r[t]()+o}}function zi(t){return function(e){return Fe(tu(Va(e).replace(Xt,"")),t,"")}}function Li(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Un(t.prototype),r=t.apply(n,e);return ra(r)?r:n}}function Di(t){return function(e,n,r){var o=St(e);if(!Zs(e)){var s=lo(n,3);e=Ma(e),n=function(t){return s(o[t],t,o)}}var a=t(e,n,r);return a>-1?o[s?e[a]:a]:i}}function Ni(t){return io((function(e){var n=e.length,r=n,s=Hn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new Tt(o);if(s&&!u&&"wrapper"==uo(a))var u=new Hn([],!0)}for(r=u?r:n;++r<n;){var c=uo(a=e[r]),l="wrapper"==c?ao(a):i;u=l&&Oo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[uo(l[0])].apply(u,l[3]):1==a.length&&Oo(a)?u[c]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Gs(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Bi(t,e,n,o,s,a,u,c,l,h){var p=e&f,d=1&e,g=2&e,m=24&e,v=512&e,w=g?i:Li(t);return function i(){for(var f=arguments.length,b=r(f),y=f;y--;)b[y]=arguments[y];if(m)var _=co(i),x=nn(b,_);if(o&&(b=Ci(b,o,s,m)),a&&(b=Ti(b,a,u,m)),f-=x,m&&f<h){var j=ln(b,_);return Zi(t,e,Bi,i.placeholder,n,b,j,c,l,h-f)}var O=d?n:this,k=g?O[t]:t;return f=b.length,c?b=Ro(b,c):v&&f>1&&b.reverse(),p&&l<f&&(b.length=l),this&&this!==pe&&this instanceof i&&(k=w||Li(k)),k.apply(O,b)}}function Ui(t,e){return function(n,r){return function(t,e,n,r){return xr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Wi(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=fi(n),r=fi(r)):(n=li(n),r=li(r)),o=t(n,r)}return o}}function Hi(t){return io((function(e){return e=Pe(e,Ye(lo())),Xr((function(n){var r=this;return t(e,(function(t){return ke(t,r,n)}))}))}))}function Vi(t,e){var n=(e=e===i?" ":fi(e)).length;if(n<2)return n?Yr(e,t):e;var r=Yr(e,ge(t/pn(e)));return an(e)?ji(dn(r),0,t).join(""):r.slice(0,t)}function Gi(t){return function(e,n,o){return o&&"number"!=typeof o&&xo(e,n,o)&&(n=o=i),e=ma(e),n===i?(n=e,e=0):n=ma(n),function(t,e,n,i){for(var o=-1,s=yn(ge((e-t)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=t,t+=n;return a}(e,n,o=o===i?e<n?1:-1:ma(o),t)}}function Ki(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ba(e),n=ba(n)),t(e,n)}}function Zi(t,e,n,r,o,s,a,u,f,h){var p=8&e;e|=p?c:l,4&(e&=~(p?l:c))||(e&=-4);var d=[t,e,o,p?s:i,p?a:i,p?i:s,p?i:a,u,f,h],g=n.apply(i,d);return Oo(t)&&Po(g,d),g.placeholder=r,Io(g,t,e)}function Ji(t){var e=Et[t];return function(t,n){if(t=ba(t),(n=null==n?0:_n(va(n),292))&&Ve(t)){var r=(_a(t)+"e").split("e");return+((r=(_a(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Yi=Cn&&1/fn(new Cn([,-0]))[1]==p?function(t){return new Cn(t)}:fu;function Xi(t){return function(e){var n=vo(e);return n==k?un(e):n==T?hn(e):function(t,e){return Pe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Qi(t,e,n,s,p,d,g,m){var v=2&e;if(!v&&"function"!=typeof t)throw new Tt(o);var w=s?s.length:0;if(w||(e&=-97,s=p=i),g=g===i?g:yn(va(g),0),m=m===i?m:va(m),w-=p?p.length:0,e&l){var b=s,y=p;s=p=i}var _=v?i:ao(t),x=[t,e,n,s,p,b,y,d,g,m];if(_&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,s=r==f&&8==n||r==f&&n==h&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var c=t[3];t[3]=c?Ci(c,u,e[4]):u,t[4]=c?ln(t[3],a):e[4]}(u=e[5])&&(c=t[5],t[5]=c?Ti(c,u,e[6]):u,t[6]=c?ln(t[5],a):e[6]);(u=e[7])&&(t[7]=u);r&f&&(t[8]=null==t[8]?e[8]:_n(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(x,_),t=x[0],e=x[1],n=x[2],s=x[3],p=x[4],!(m=x[9]=x[9]===i?v?0:t.length:yn(x[9]-w,0))&&24&e&&(e&=-25),e&&1!=e)j=8==e||e==u?function(t,e,n){var o=Li(t);return function s(){for(var a=arguments.length,u=r(a),c=a,l=co(s);c--;)u[c]=arguments[c];var f=a<3&&u[0]!==l&&u[a-1]!==l?[]:ln(u,l);return(a-=f.length)<n?Zi(t,e,Bi,s.placeholder,i,u,f,i,i,n-a):ke(this&&this!==pe&&this instanceof s?o:t,this,u)}}(t,e,m):e!=c&&33!=e||p.length?Bi.apply(i,x):function(t,e,n,i){var o=1&e,s=Li(t);return function e(){for(var a=-1,u=arguments.length,c=-1,l=i.length,f=r(l+u),h=this&&this!==pe&&this instanceof e?s:t;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++a];return ke(h,o?n:this,f)}}(t,e,n,s);else var j=function(t,e,n){var r=1&e,i=Li(t);return function e(){return(this&&this!==pe&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return Io((_?ni:Po)(j,x),t,e)}function to(t,e,n,r){return t===i||Us(t,Pt[n])&&!It.call(r,n)?e:t}function eo(t,e,n,r,o,s){return ra(t)&&ra(e)&&(s.set(e,t),Wr(t,e,i,eo,s),s.delete(e)),t}function no(t){return aa(t)?i:t}function ro(t,e,n,r,o,s){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var l=s.get(t),f=s.get(e);if(l&&f)return l==e&&f==t;var h=-1,p=!0,d=2&n?new Jn:i;for(s.set(t,e),s.set(e,t);++h<u;){var g=t[h],m=e[h];if(r)var v=a?r(m,g,h,e,t,s):r(g,m,h,t,e,s);if(v!==i){if(v)continue;p=!1;break}if(d){if(!qe(e,(function(t,e){if(!Qe(d,e)&&(g===t||o(g,t,n,r,s)))return d.push(e)}))){p=!1;break}}else if(g!==m&&!o(g,m,n,r,s)){p=!1;break}}return s.delete(t),s.delete(e),p}function io(t){return Fo(Co(t,i,Ko),t+"")}function oo(t){return Er(t,Ma,go)}function so(t){return Er(t,Fa,mo)}var ao=$n?function(t){return $n.get(t)}:fu;function uo(t){for(var e=t.name+"",n=Pn[e],r=It.call(Pn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function co(t){return(It.call(Bn,"placeholder")?Bn:t).placeholder}function lo(){var t=Bn.iteratee||au;return t=t===au?qr:t,arguments.length?t(arguments[0],arguments[1]):t}function fo(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function ho(t){for(var e=Ma(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,So(i)]}return e}function po(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Ir(n)?n:i}var go=we?function(t){return null==t?[]:(t=St(t),Te(we(t),(function(e){return Zt.call(t,e)})))}:wu,mo=we?function(t){for(var e=[];t;)Me(e,go(t)),t=Gt(t);return e}:wu,vo=Sr;function wo(t,e,n){for(var r=-1,i=(e=_i(e,t)).length,o=!1;++r<i;){var s=Do(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&na(i)&&_o(s,i)&&(Gs(t)||Vs(t))}function bo(t){return"function"!=typeof t.constructor||Eo(t)?{}:Un(Gt(t))}function yo(t){return Gs(t)||Vs(t)||!!(Yt&&t&&t[Yt])}function _o(t,e){var n=typeof t;return!!(e=null==e?d:e)&&("number"==n||"symbol"!=n&&yt.test(t))&&t>-1&&t%1==0&&t<e}function xo(t,e,n){if(!ra(n))return!1;var r=typeof e;return!!("number"==r?Zs(n)&&_o(e,n.length):"string"==r&&e in n)&&Us(n[e],t)}function jo(t,e){if(Gs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!fa(t))||(nt.test(t)||!et.test(t)||null!=e&&t in St(e))}function Oo(t){var e=uo(t),n=Bn[e];if("function"!=typeof n||!(e in Vn.prototype))return!1;if(t===n)return!0;var r=ao(n);return!!r&&t===r[0]}(En&&vo(new En(new ArrayBuffer(1)))!=F||Sn&&vo(new Sn)!=k||An&&vo(An.resolve())!=A||Cn&&vo(new Cn)!=T||Tn&&vo(new Tn)!=P)&&(vo=function(t){var e=Sr(t),n=e==S?t.constructor:i,r=n?No(n):"";if(r)switch(r){case Mn:return F;case Fn:return k;case In:return A;case qn:return T;case zn:return P}return e});var ko=Mt?ta:bu;function Eo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Pt)}function So(t){return t==t&&!ra(t)}function Ao(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==i||t in St(n)))}}function Co(t,e,n){return e=yn(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=yn(i.length-e,0),a=r(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(a),ke(t,this,u)}}function To(t,e){return e.length<2?t:kr(t,oi(e,0,-1))}function Ro(t,e){for(var n=t.length,r=_n(e.length,n),o=Ri(t);r--;){var s=e[r];t[r]=_o(s,n)?o[s]:i}return t}function $o(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Po=qo(ni),Mo=de||function(t,e){return pe.setTimeout(t,e)},Fo=qo(ri);function Io(t,e,n){var r=e+"";return Fo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ut,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Se(v,(function(n){var r="_."+n[0];e&n[1]&&!Re(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(ct);return e?e[1].split(lt):[]}(r),n)))}function qo(t){var e=0,n=0;return function(){var r=xn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function zo(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var s=Jr(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var Lo=function(t){var e=qs(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rt,(function(t,n,r,i){e.push(r?i.replace(pt,"$1"):n||t)})),e}));function Do(t){if("string"==typeof t||fa(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function No(t){if(null!=t){try{return Ft.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Bo(t){if(t instanceof Vn)return t.clone();var e=new Hn(t.__wrapped__,t.__chain__);return e.__actions__=Ri(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Uo=Xr((function(t,e){return Js(t)?pr(t,br(e,1,Js,!0)):[]})),Wo=Xr((function(t,e){var n=Qo(e);return Js(n)&&(n=i),Js(t)?pr(t,br(e,1,Js,!0),lo(n,2)):[]})),Ho=Xr((function(t,e){var n=Qo(e);return Js(n)&&(n=i),Js(t)?pr(t,br(e,1,Js,!0),i,n):[]}));function Vo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:va(n);return i<0&&(i=yn(r+i,0)),De(t,lo(e,3),i)}function Go(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=va(n),o=n<0?yn(r+o,0):_n(o,r-1)),De(t,lo(e,3),o,!0)}function Ko(t){return(null==t?0:t.length)?br(t,1):[]}function Zo(t){return t&&t.length?t[0]:i}var Jo=Xr((function(t){var e=Pe(t,bi);return e.length&&e[0]===t[0]?Rr(e):[]})),Yo=Xr((function(t){var e=Qo(t),n=Pe(t,bi);return e===Qo(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Rr(n,lo(e,2)):[]})),Xo=Xr((function(t){var e=Qo(t),n=Pe(t,bi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Rr(n,i,e):[]}));function Qo(t){var e=null==t?0:t.length;return e?t[e-1]:i}var ts=Xr(es);function es(t,e){return t&&t.length&&e&&e.length?Kr(t,e):t}var ns=io((function(t,e){var n=null==t?0:t.length,r=ur(t,e);return Zr(t,Pe(e,(function(t){return _o(t,n)?+t:t})).sort(Ai)),r}));function rs(t){return null==t?t:kn.call(t)}var is=Xr((function(t){return hi(br(t,1,Js,!0))})),os=Xr((function(t){var e=Qo(t);return Js(e)&&(e=i),hi(br(t,1,Js,!0),lo(e,2))})),ss=Xr((function(t){var e=Qo(t);return e="function"==typeof e?e:i,hi(br(t,1,Js,!0),i,e)}));function as(t){if(!t||!t.length)return[];var e=0;return t=Te(t,(function(t){if(Js(t))return e=yn(t.length,e),!0})),Ze(e,(function(e){return Pe(t,He(e))}))}function us(t,e){if(!t||!t.length)return[];var n=as(t);return null==e?n:Pe(n,(function(t){return ke(e,i,t)}))}var cs=Xr((function(t,e){return Js(t)?pr(t,e):[]})),ls=Xr((function(t){return vi(Te(t,Js))})),fs=Xr((function(t){var e=Qo(t);return Js(e)&&(e=i),vi(Te(t,Js),lo(e,2))})),hs=Xr((function(t){var e=Qo(t);return e="function"==typeof e?e:i,vi(Te(t,Js),i,e)})),ps=Xr(as);var ds=Xr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,us(t,n)}));function gs(t){var e=Bn(t);return e.__chain__=!0,e}function ms(t,e){return e(t)}var vs=io((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return ur(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Vn&&_o(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ms,args:[o],thisArg:i}),new Hn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)}));var ws=Pi((function(t,e,n){It.call(t,n)?++t[n]:ar(t,n,1)}));var bs=Di(Vo),ys=Di(Go);function _s(t,e){return(Gs(t)?Se:dr)(t,lo(e,3))}function xs(t,e){return(Gs(t)?Ae:gr)(t,lo(e,3))}var js=Pi((function(t,e,n){It.call(t,n)?t[n].push(e):ar(t,n,[e])}));var Os=Xr((function(t,e,n){var i=-1,o="function"==typeof e,s=Zs(t)?r(t.length):[];return dr(t,(function(t){s[++i]=o?ke(e,t,n):$r(t,e,n)})),s})),ks=Pi((function(t,e,n){ar(t,n,e)}));function Es(t,e){return(Gs(t)?Pe:Nr)(t,lo(e,3))}var Ss=Pi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var As=Xr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&xo(t,e[0],e[1])?e=[]:n>2&&xo(e[0],e[1],e[2])&&(e=[e[0]]),Vr(t,br(e,1),[])})),Cs=he||function(){return pe.Date.now()};function Ts(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Qi(t,f,i,i,i,i,e)}function Rs(t,e){var n;if("function"!=typeof e)throw new Tt(o);return t=va(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var $s=Xr((function(t,e,n){var r=1;if(n.length){var i=ln(n,co($s));r|=c}return Qi(t,r,e,n,i)})),Ps=Xr((function(t,e,n){var r=3;if(n.length){var i=ln(n,co(Ps));r|=c}return Qi(e,r,t,n,i)}));function Ms(t,e,n){var r,s,a,u,c,l,f=0,h=!1,p=!1,d=!0;if("function"!=typeof t)throw new Tt(o);function g(e){var n=r,o=s;return r=s=i,f=e,u=t.apply(o,n)}function m(t){return f=t,c=Mo(w,e),h?g(t):u}function v(t){var n=t-l;return l===i||n>=e||n<0||p&&t-f>=a}function w(){var t=Cs();if(v(t))return b(t);c=Mo(w,function(t){var n=e-(t-l);return p?_n(n,a-(t-f)):n}(t))}function b(t){return c=i,d&&r?g(t):(r=s=i,u)}function y(){var t=Cs(),n=v(t);if(r=arguments,s=this,l=t,n){if(c===i)return m(l);if(p)return Oi(c),c=Mo(w,e),g(l)}return c===i&&(c=Mo(w,e)),u}return e=ba(e)||0,ra(n)&&(h=!!n.leading,a=(p="maxWait"in n)?yn(ba(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d),y.cancel=function(){c!==i&&Oi(c),f=0,r=l=s=c=i},y.flush=function(){return c===i?u:b(Cs())},y}var Fs=Xr((function(t,e){return hr(t,1,e)})),Is=Xr((function(t,e,n){return hr(t,ba(e)||0,n)}));function qs(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Tt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(qs.Cache||Zn),n}function zs(t){if("function"!=typeof t)throw new Tt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}qs.Cache=Zn;var Ls=xi((function(t,e){var n=(e=1==e.length&&Gs(e[0])?Pe(e[0],Ye(lo())):Pe(br(e,1),Ye(lo()))).length;return Xr((function(r){for(var i=-1,o=_n(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return ke(t,this,r)}))})),Ds=Xr((function(t,e){var n=ln(e,co(Ds));return Qi(t,c,i,e,n)})),Ns=Xr((function(t,e){var n=ln(e,co(Ns));return Qi(t,l,i,e,n)})),Bs=io((function(t,e){return Qi(t,h,i,i,i,e)}));function Us(t,e){return t===e||t!=t&&e!=e}var Ws=Ki(Ar),Hs=Ki((function(t,e){return t>=e})),Vs=Pr(function(){return arguments}())?Pr:function(t){return ia(t)&&It.call(t,"callee")&&!Zt.call(t,"callee")},Gs=r.isArray,Ks=be?Ye(be):function(t){return ia(t)&&Sr(t)==M};function Zs(t){return null!=t&&na(t.length)&&!ta(t)}function Js(t){return ia(t)&&Zs(t)}var Ys=ze||bu,Xs=ye?Ye(ye):function(t){return ia(t)&&Sr(t)==_};function Qs(t){if(!ia(t))return!1;var e=Sr(t);return e==x||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!aa(t)}function ta(t){if(!ra(t))return!1;var e=Sr(t);return e==j||e==O||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ea(t){return"number"==typeof t&&t==va(t)}function na(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=d}function ra(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ia(t){return null!=t&&"object"==typeof t}var oa=_e?Ye(_e):function(t){return ia(t)&&vo(t)==k};function sa(t){return"number"==typeof t||ia(t)&&Sr(t)==E}function aa(t){if(!ia(t)||Sr(t)!=S)return!1;var e=Gt(t);if(null===e)return!0;var n=It.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ft.call(n)==Dt}var ua=xe?Ye(xe):function(t){return ia(t)&&Sr(t)==C};var ca=je?Ye(je):function(t){return ia(t)&&vo(t)==T};function la(t){return"string"==typeof t||!Gs(t)&&ia(t)&&Sr(t)==R}function fa(t){return"symbol"==typeof t||ia(t)&&Sr(t)==$}var ha=Oe?Ye(Oe):function(t){return ia(t)&&na(t.length)&&!!se[Sr(t)]};var pa=Ki(Dr),da=Ki((function(t,e){return t<=e}));function ga(t){if(!t)return[];if(Zs(t))return la(t)?dn(t):Ri(t);if(te&&t[te])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[te]());var e=vo(t);return(e==k?un:e==T?fn:Ua)(t)}function ma(t){return t?(t=ba(t))===p||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function va(t){var e=ma(t),n=e%1;return e==e?n?e-n:e:0}function wa(t){return t?cr(va(t),0,m):0}function ba(t){if("number"==typeof t)return t;if(fa(t))return g;if(ra(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ra(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Je(t);var n=vt.test(t);return n||bt.test(t)?le(t.slice(2),n?2:8):mt.test(t)?g:+t}function ya(t){return $i(t,Fa(t))}function _a(t){return null==t?"":fi(t)}var xa=Mi((function(t,e){if(Eo(e)||Zs(e))$i(e,Ma(e),t);else for(var n in e)It.call(e,n)&&rr(t,n,e[n])})),ja=Mi((function(t,e){$i(e,Fa(e),t)})),Oa=Mi((function(t,e,n,r){$i(e,Fa(e),t,r)})),ka=Mi((function(t,e,n,r){$i(e,Ma(e),t,r)})),Ea=io(ur);var Sa=Xr((function(t,e){t=St(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&xo(e[0],e[1],o)&&(r=1);++n<r;)for(var s=e[n],a=Fa(s),u=-1,c=a.length;++u<c;){var l=a[u],f=t[l];(f===i||Us(f,Pt[l])&&!It.call(t,l))&&(t[l]=s[l])}return t})),Aa=Xr((function(t){return t.push(i,eo),ke(qa,i,t)}));function Ca(t,e,n){var r=null==t?i:kr(t,e);return r===i?n:r}function Ta(t,e){return null!=t&&wo(t,e,Tr)}var Ra=Ui((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),t[e]=n}),ru(su)),$a=Ui((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),It.call(t,e)?t[e].push(n):t[e]=[n]}),lo),Pa=Xr($r);function Ma(t){return Zs(t)?Xn(t):zr(t)}function Fa(t){return Zs(t)?Xn(t,!0):Lr(t)}var Ia=Mi((function(t,e,n){Wr(t,e,n)})),qa=Mi((function(t,e,n,r){Wr(t,e,n,r)})),za=io((function(t,e){var n={};if(null==t)return n;var r=!1;e=Pe(e,(function(e){return e=_i(e,t),r||(r=e.length>1),e})),$i(t,so(t),n),r&&(n=lr(n,7,no));for(var i=e.length;i--;)pi(n,e[i]);return n}));var La=io((function(t,e){return null==t?{}:function(t,e){return Gr(t,e,(function(e,n){return Ta(t,n)}))}(t,e)}));function Da(t,e){if(null==t)return{};var n=Pe(so(t),(function(t){return[t]}));return e=lo(e),Gr(t,n,(function(t,n){return e(t,n[0])}))}var Na=Xi(Ma),Ba=Xi(Fa);function Ua(t){return null==t?[]:Xe(t,Ma(t))}var Wa=zi((function(t,e,n){return e=e.toLowerCase(),t+(n?Ha(e):e)}));function Ha(t){return Qa(_a(t).toLowerCase())}function Va(t){return(t=_a(t))&&t.replace(_t,rn).replace(Qt,"")}var Ga=zi((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ka=zi((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Za=qi("toLowerCase");var Ja=zi((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ya=zi((function(t,e,n){return t+(n?" ":"")+Qa(e)}));var Xa=zi((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Qa=qi("toUpperCase");function tu(t,e,n){return t=_a(t),(e=n?i:e)===i?function(t){return re.test(t)}(t)?function(t){return t.match(ee)||[]}(t):function(t){return t.match(ft)||[]}(t):t.match(e)||[]}var eu=Xr((function(t,e){try{return ke(t,i,e)}catch(t){return Qs(t)?t:new Ot(t)}})),nu=io((function(t,e){return Se(e,(function(e){e=Do(e),ar(t,e,$s(t[e],t))})),t}));function ru(t){return function(){return t}}var iu=Ni(),ou=Ni(!0);function su(t){return t}function au(t){return qr("function"==typeof t?t:lr(t,1))}var uu=Xr((function(t,e){return function(n){return $r(n,t,e)}})),cu=Xr((function(t,e){return function(n){return $r(t,n,e)}}));function lu(t,e,n){var r=Ma(e),i=Or(e,r);null!=n||ra(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Or(e,Ma(e)));var o=!(ra(n)&&"chain"in n&&!n.chain),s=ta(t);return Se(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Ri(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Me([this.value()],arguments))})})),t}function fu(){}var hu=Hi(Pe),pu=Hi(Ce),du=Hi(qe);function gu(t){return jo(t)?He(Do(t)):function(t){return function(e){return kr(e,t)}}(t)}var mu=Gi(),vu=Gi(!0);function wu(){return[]}function bu(){return!1}var yu=Wi((function(t,e){return t+e}),0),_u=Ji("ceil"),xu=Wi((function(t,e){return t/e}),1),ju=Ji("floor");var Ou,ku=Wi((function(t,e){return t*e}),1),Eu=Ji("round"),Su=Wi((function(t,e){return t-e}),0);return Bn.after=function(t,e){if("function"!=typeof e)throw new Tt(o);return t=va(t),function(){if(--t<1)return e.apply(this,arguments)}},Bn.ary=Ts,Bn.assign=xa,Bn.assignIn=ja,Bn.assignInWith=Oa,Bn.assignWith=ka,Bn.at=Ea,Bn.before=Rs,Bn.bind=$s,Bn.bindAll=nu,Bn.bindKey=Ps,Bn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Gs(t)?t:[t]},Bn.chain=gs,Bn.chunk=function(t,e,n){e=(n?xo(t,e,n):e===i)?1:yn(va(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,u=r(ge(o/e));s<o;)u[a++]=oi(t,s,s+=e);return u},Bn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Bn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Me(Gs(n)?Ri(n):[n],br(e,1))},Bn.cond=function(t){var e=null==t?0:t.length,n=lo();return t=e?Pe(t,(function(t){if("function"!=typeof t[1])throw new Tt(o);return[n(t[0]),t[1]]})):[],Xr((function(n){for(var r=-1;++r<e;){var i=t[r];if(ke(i[0],this,n))return ke(i[1],this,n)}}))},Bn.conforms=function(t){return function(t){var e=Ma(t);return function(n){return fr(n,t,e)}}(lr(t,1))},Bn.constant=ru,Bn.countBy=ws,Bn.create=function(t,e){var n=Un(t);return null==e?n:sr(n,e)},Bn.curry=function t(e,n,r){var o=Qi(e,8,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Bn.curryRight=function t(e,n,r){var o=Qi(e,u,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Bn.debounce=Ms,Bn.defaults=Sa,Bn.defaultsDeep=Aa,Bn.defer=Fs,Bn.delay=Is,Bn.difference=Uo,Bn.differenceBy=Wo,Bn.differenceWith=Ho,Bn.drop=function(t,e,n){var r=null==t?0:t.length;return r?oi(t,(e=n||e===i?1:va(e))<0?0:e,r):[]},Bn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?oi(t,0,(e=r-(e=n||e===i?1:va(e)))<0?0:e):[]},Bn.dropRightWhile=function(t,e){return t&&t.length?gi(t,lo(e,3),!0,!0):[]},Bn.dropWhile=function(t,e){return t&&t.length?gi(t,lo(e,3),!0):[]},Bn.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&xo(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=va(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:va(r))<0&&(r+=o),r=n>r?0:wa(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Bn.filter=function(t,e){return(Gs(t)?Te:wr)(t,lo(e,3))},Bn.flatMap=function(t,e){return br(Es(t,e),1)},Bn.flatMapDeep=function(t,e){return br(Es(t,e),p)},Bn.flatMapDepth=function(t,e,n){return n=n===i?1:va(n),br(Es(t,e),n)},Bn.flatten=Ko,Bn.flattenDeep=function(t){return(null==t?0:t.length)?br(t,p):[]},Bn.flattenDepth=function(t,e){return(null==t?0:t.length)?br(t,e=e===i?1:va(e)):[]},Bn.flip=function(t){return Qi(t,512)},Bn.flow=iu,Bn.flowRight=ou,Bn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Bn.functions=function(t){return null==t?[]:Or(t,Ma(t))},Bn.functionsIn=function(t){return null==t?[]:Or(t,Fa(t))},Bn.groupBy=js,Bn.initial=function(t){return(null==t?0:t.length)?oi(t,0,-1):[]},Bn.intersection=Jo,Bn.intersectionBy=Yo,Bn.intersectionWith=Xo,Bn.invert=Ra,Bn.invertBy=$a,Bn.invokeMap=Os,Bn.iteratee=au,Bn.keyBy=ks,Bn.keys=Ma,Bn.keysIn=Fa,Bn.map=Es,Bn.mapKeys=function(t,e){var n={};return e=lo(e,3),xr(t,(function(t,r,i){ar(n,e(t,r,i),t)})),n},Bn.mapValues=function(t,e){var n={};return e=lo(e,3),xr(t,(function(t,r,i){ar(n,r,e(t,r,i))})),n},Bn.matches=function(t){return Br(lr(t,1))},Bn.matchesProperty=function(t,e){return Ur(t,lr(e,1))},Bn.memoize=qs,Bn.merge=Ia,Bn.mergeWith=qa,Bn.method=uu,Bn.methodOf=cu,Bn.mixin=lu,Bn.negate=zs,Bn.nthArg=function(t){return t=va(t),Xr((function(e){return Hr(e,t)}))},Bn.omit=za,Bn.omitBy=function(t,e){return Da(t,zs(lo(e)))},Bn.once=function(t){return Rs(2,t)},Bn.orderBy=function(t,e,n,r){return null==t?[]:(Gs(e)||(e=null==e?[]:[e]),Gs(n=r?i:n)||(n=null==n?[]:[n]),Vr(t,e,n))},Bn.over=hu,Bn.overArgs=Ls,Bn.overEvery=pu,Bn.overSome=du,Bn.partial=Ds,Bn.partialRight=Ns,Bn.partition=Ss,Bn.pick=La,Bn.pickBy=Da,Bn.property=gu,Bn.propertyOf=function(t){return function(e){return null==t?i:kr(t,e)}},Bn.pull=ts,Bn.pullAll=es,Bn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Kr(t,e,lo(n,2)):t},Bn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Kr(t,e,i,n):t},Bn.pullAt=ns,Bn.range=mu,Bn.rangeRight=vu,Bn.rearg=Bs,Bn.reject=function(t,e){return(Gs(t)?Te:wr)(t,zs(lo(e,3)))},Bn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=lo(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Zr(t,i),n},Bn.rest=function(t,e){if("function"!=typeof t)throw new Tt(o);return Xr(t,e=e===i?e:va(e))},Bn.reverse=rs,Bn.sampleSize=function(t,e,n){return e=(n?xo(t,e,n):e===i)?1:va(e),(Gs(t)?tr:ti)(t,e)},Bn.set=function(t,e,n){return null==t?t:ei(t,e,n)},Bn.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:ei(t,e,n,r)},Bn.shuffle=function(t){return(Gs(t)?er:ii)(t)},Bn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&xo(t,e,n)?(e=0,n=r):(e=null==e?0:va(e),n=n===i?r:va(n)),oi(t,e,n)):[]},Bn.sortBy=As,Bn.sortedUniq=function(t){return t&&t.length?ci(t):[]},Bn.sortedUniqBy=function(t,e){return t&&t.length?ci(t,lo(e,2)):[]},Bn.split=function(t,e,n){return n&&"number"!=typeof n&&xo(t,e,n)&&(e=n=i),(n=n===i?m:n>>>0)?(t=_a(t))&&("string"==typeof e||null!=e&&!ua(e))&&!(e=fi(e))&&an(t)?ji(dn(t),0,n):t.split(e,n):[]},Bn.spread=function(t,e){if("function"!=typeof t)throw new Tt(o);return e=null==e?0:yn(va(e),0),Xr((function(n){var r=n[e],i=ji(n,0,e);return r&&Me(i,r),ke(t,this,i)}))},Bn.tail=function(t){var e=null==t?0:t.length;return e?oi(t,1,e):[]},Bn.take=function(t,e,n){return t&&t.length?oi(t,0,(e=n||e===i?1:va(e))<0?0:e):[]},Bn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?oi(t,(e=r-(e=n||e===i?1:va(e)))<0?0:e,r):[]},Bn.takeRightWhile=function(t,e){return t&&t.length?gi(t,lo(e,3),!1,!0):[]},Bn.takeWhile=function(t,e){return t&&t.length?gi(t,lo(e,3)):[]},Bn.tap=function(t,e){return e(t),t},Bn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Tt(o);return ra(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ms(t,e,{leading:r,maxWait:e,trailing:i})},Bn.thru=ms,Bn.toArray=ga,Bn.toPairs=Na,Bn.toPairsIn=Ba,Bn.toPath=function(t){return Gs(t)?Pe(t,Do):fa(t)?[t]:Ri(Lo(_a(t)))},Bn.toPlainObject=ya,Bn.transform=function(t,e,n){var r=Gs(t),i=r||Ys(t)||ha(t);if(e=lo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ra(t)&&ta(o)?Un(Gt(t)):{}}return(i?Se:xr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Bn.unary=function(t){return Ts(t,1)},Bn.union=is,Bn.unionBy=os,Bn.unionWith=ss,Bn.uniq=function(t){return t&&t.length?hi(t):[]},Bn.uniqBy=function(t,e){return t&&t.length?hi(t,lo(e,2)):[]},Bn.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?hi(t,i,e):[]},Bn.unset=function(t,e){return null==t||pi(t,e)},Bn.unzip=as,Bn.unzipWith=us,Bn.update=function(t,e,n){return null==t?t:di(t,e,yi(n))},Bn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:di(t,e,yi(n),r)},Bn.values=Ua,Bn.valuesIn=function(t){return null==t?[]:Xe(t,Fa(t))},Bn.without=cs,Bn.words=tu,Bn.wrap=function(t,e){return Ds(yi(e),t)},Bn.xor=ls,Bn.xorBy=fs,Bn.xorWith=hs,Bn.zip=ps,Bn.zipObject=function(t,e){return wi(t||[],e||[],rr)},Bn.zipObjectDeep=function(t,e){return wi(t||[],e||[],ei)},Bn.zipWith=ds,Bn.entries=Na,Bn.entriesIn=Ba,Bn.extend=ja,Bn.extendWith=Oa,lu(Bn,Bn),Bn.add=yu,Bn.attempt=eu,Bn.camelCase=Wa,Bn.capitalize=Ha,Bn.ceil=_u,Bn.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=ba(n))==n?n:0),e!==i&&(e=(e=ba(e))==e?e:0),cr(ba(t),e,n)},Bn.clone=function(t){return lr(t,4)},Bn.cloneDeep=function(t){return lr(t,5)},Bn.cloneDeepWith=function(t,e){return lr(t,5,e="function"==typeof e?e:i)},Bn.cloneWith=function(t,e){return lr(t,4,e="function"==typeof e?e:i)},Bn.conformsTo=function(t,e){return null==e||fr(t,e,Ma(e))},Bn.deburr=Va,Bn.defaultTo=function(t,e){return null==t||t!=t?e:t},Bn.divide=xu,Bn.endsWith=function(t,e,n){t=_a(t),e=fi(e);var r=t.length,o=n=n===i?r:cr(va(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},Bn.eq=Us,Bn.escape=function(t){return(t=_a(t))&&Y.test(t)?t.replace(Z,on):t},Bn.escapeRegExp=function(t){return(t=_a(t))&&ot.test(t)?t.replace(it,"\\$&"):t},Bn.every=function(t,e,n){var r=Gs(t)?Ce:mr;return n&&xo(t,e,n)&&(e=i),r(t,lo(e,3))},Bn.find=bs,Bn.findIndex=Vo,Bn.findKey=function(t,e){return Le(t,lo(e,3),xr)},Bn.findLast=ys,Bn.findLastIndex=Go,Bn.findLastKey=function(t,e){return Le(t,lo(e,3),jr)},Bn.floor=ju,Bn.forEach=_s,Bn.forEachRight=xs,Bn.forIn=function(t,e){return null==t?t:yr(t,lo(e,3),Fa)},Bn.forInRight=function(t,e){return null==t?t:_r(t,lo(e,3),Fa)},Bn.forOwn=function(t,e){return t&&xr(t,lo(e,3))},Bn.forOwnRight=function(t,e){return t&&jr(t,lo(e,3))},Bn.get=Ca,Bn.gt=Ws,Bn.gte=Hs,Bn.has=function(t,e){return null!=t&&wo(t,e,Cr)},Bn.hasIn=Ta,Bn.head=Zo,Bn.identity=su,Bn.includes=function(t,e,n,r){t=Zs(t)?t:Ua(t),n=n&&!r?va(n):0;var i=t.length;return n<0&&(n=yn(i+n,0)),la(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Ne(t,e,n)>-1},Bn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:va(n);return i<0&&(i=yn(r+i,0)),Ne(t,e,i)},Bn.inRange=function(t,e,n){return e=ma(e),n===i?(n=e,e=0):n=ma(n),function(t,e,n){return t>=_n(e,n)&&t<yn(e,n)}(t=ba(t),e,n)},Bn.invoke=Pa,Bn.isArguments=Vs,Bn.isArray=Gs,Bn.isArrayBuffer=Ks,Bn.isArrayLike=Zs,Bn.isArrayLikeObject=Js,Bn.isBoolean=function(t){return!0===t||!1===t||ia(t)&&Sr(t)==y},Bn.isBuffer=Ys,Bn.isDate=Xs,Bn.isElement=function(t){return ia(t)&&1===t.nodeType&&!aa(t)},Bn.isEmpty=function(t){if(null==t)return!0;if(Zs(t)&&(Gs(t)||"string"==typeof t||"function"==typeof t.splice||Ys(t)||ha(t)||Vs(t)))return!t.length;var e=vo(t);if(e==k||e==T)return!t.size;if(Eo(t))return!zr(t).length;for(var n in t)if(It.call(t,n))return!1;return!0},Bn.isEqual=function(t,e){return Mr(t,e)},Bn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Mr(t,e,i,n):!!r},Bn.isError=Qs,Bn.isFinite=function(t){return"number"==typeof t&&Ve(t)},Bn.isFunction=ta,Bn.isInteger=ea,Bn.isLength=na,Bn.isMap=oa,Bn.isMatch=function(t,e){return t===e||Fr(t,e,ho(e))},Bn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Fr(t,e,ho(e),n)},Bn.isNaN=function(t){return sa(t)&&t!=+t},Bn.isNative=function(t){if(ko(t))throw new Ot("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ir(t)},Bn.isNil=function(t){return null==t},Bn.isNull=function(t){return null===t},Bn.isNumber=sa,Bn.isObject=ra,Bn.isObjectLike=ia,Bn.isPlainObject=aa,Bn.isRegExp=ua,Bn.isSafeInteger=function(t){return ea(t)&&t>=-9007199254740991&&t<=d},Bn.isSet=ca,Bn.isString=la,Bn.isSymbol=fa,Bn.isTypedArray=ha,Bn.isUndefined=function(t){return t===i},Bn.isWeakMap=function(t){return ia(t)&&vo(t)==P},Bn.isWeakSet=function(t){return ia(t)&&"[object WeakSet]"==Sr(t)},Bn.join=function(t,e){return null==t?"":wn.call(t,e)},Bn.kebabCase=Ga,Bn.last=Qo,Bn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=va(n))<0?yn(r+o,0):_n(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):De(t,Ue,o,!0)},Bn.lowerCase=Ka,Bn.lowerFirst=Za,Bn.lt=pa,Bn.lte=da,Bn.max=function(t){return t&&t.length?vr(t,su,Ar):i},Bn.maxBy=function(t,e){return t&&t.length?vr(t,lo(e,2),Ar):i},Bn.mean=function(t){return We(t,su)},Bn.meanBy=function(t,e){return We(t,lo(e,2))},Bn.min=function(t){return t&&t.length?vr(t,su,Dr):i},Bn.minBy=function(t,e){return t&&t.length?vr(t,lo(e,2),Dr):i},Bn.stubArray=wu,Bn.stubFalse=bu,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=ku,Bn.nth=function(t,e){return t&&t.length?Hr(t,va(e)):i},Bn.noConflict=function(){return pe._===this&&(pe._=Nt),this},Bn.noop=fu,Bn.now=Cs,Bn.pad=function(t,e,n){t=_a(t);var r=(e=va(e))?pn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Vi(ve(i),n)+t+Vi(ge(i),n)},Bn.padEnd=function(t,e,n){t=_a(t);var r=(e=va(e))?pn(t):0;return e&&r<e?t+Vi(e-r,n):t},Bn.padStart=function(t,e,n){t=_a(t);var r=(e=va(e))?pn(t):0;return e&&r<e?Vi(e-r,n)+t:t},Bn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),jn(_a(t).replace(st,""),e||0)},Bn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&xo(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=ma(t),e===i?(e=t,t=0):e=ma(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=On();return _n(t+o*(e-t+ce("1e-"+((o+"").length-1))),e)}return Jr(t,e)},Bn.reduce=function(t,e,n){var r=Gs(t)?Fe:Ge,i=arguments.length<3;return r(t,lo(e,4),n,i,dr)},Bn.reduceRight=function(t,e,n){var r=Gs(t)?Ie:Ge,i=arguments.length<3;return r(t,lo(e,4),n,i,gr)},Bn.repeat=function(t,e,n){return e=(n?xo(t,e,n):e===i)?1:va(e),Yr(_a(t),e)},Bn.replace=function(){var t=arguments,e=_a(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Bn.result=function(t,e,n){var r=-1,o=(e=_i(e,t)).length;for(o||(o=1,t=i);++r<o;){var s=null==t?i:t[Do(e[r])];s===i&&(r=o,s=n),t=ta(s)?s.call(t):s}return t},Bn.round=Eu,Bn.runInContext=t,Bn.sample=function(t){return(Gs(t)?Qn:Qr)(t)},Bn.size=function(t){if(null==t)return 0;if(Zs(t))return la(t)?pn(t):t.length;var e=vo(t);return e==k||e==T?t.size:zr(t).length},Bn.snakeCase=Ja,Bn.some=function(t,e,n){var r=Gs(t)?qe:si;return n&&xo(t,e,n)&&(e=i),r(t,lo(e,3))},Bn.sortedIndex=function(t,e){return ai(t,e)},Bn.sortedIndexBy=function(t,e,n){return ui(t,e,lo(n,2))},Bn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ai(t,e);if(r<n&&Us(t[r],e))return r}return-1},Bn.sortedLastIndex=function(t,e){return ai(t,e,!0)},Bn.sortedLastIndexBy=function(t,e,n){return ui(t,e,lo(n,2),!0)},Bn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=ai(t,e,!0)-1;if(Us(t[n],e))return n}return-1},Bn.startCase=Ya,Bn.startsWith=function(t,e,n){return t=_a(t),n=null==n?0:cr(va(n),0,t.length),e=fi(e),t.slice(n,n+e.length)==e},Bn.subtract=Su,Bn.sum=function(t){return t&&t.length?Ke(t,su):0},Bn.sumBy=function(t,e){return t&&t.length?Ke(t,lo(e,2)):0},Bn.template=function(t,e,n){var r=Bn.templateSettings;n&&xo(t,e,n)&&(e=i),t=_a(t),e=Oa({},e,r,to);var o,s,a=Oa({},e.imports,r.imports,to),u=Ma(a),c=Xe(a,u),l=0,f=e.interpolate||xt,h="__p += '",p=At((e.escape||xt).source+"|"+f.source+"|"+(f===tt?dt:xt).source+"|"+(e.evaluate||xt).source+"|$","g"),d="//# sourceURL="+(It.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++oe+"]")+"\n";t.replace(p,(function(e,n,r,i,a,u){return r||(r=i),h+=t.slice(l,u).replace(jt,sn),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),h+="';\n";var g=It.call(e,"variable")&&e.variable;if(g){if(ht.test(g))throw new Ot("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(H,""):h).replace(V,"$1").replace(G,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=eu((function(){return kt(u,d+"return "+h).apply(i,c)}));if(m.source=h,Qs(m))throw m;return m},Bn.times=function(t,e){if((t=va(t))<1||t>d)return[];var n=m,r=_n(t,m);e=lo(e),t-=m;for(var i=Ze(r,e);++n<t;)e(n);return i},Bn.toFinite=ma,Bn.toInteger=va,Bn.toLength=wa,Bn.toLower=function(t){return _a(t).toLowerCase()},Bn.toNumber=ba,Bn.toSafeInteger=function(t){return t?cr(va(t),-9007199254740991,d):0===t?t:0},Bn.toString=_a,Bn.toUpper=function(t){return _a(t).toUpperCase()},Bn.trim=function(t,e,n){if((t=_a(t))&&(n||e===i))return Je(t);if(!t||!(e=fi(e)))return t;var r=dn(t),o=dn(e);return ji(r,tn(r,o),en(r,o)+1).join("")},Bn.trimEnd=function(t,e,n){if((t=_a(t))&&(n||e===i))return t.slice(0,gn(t)+1);if(!t||!(e=fi(e)))return t;var r=dn(t);return ji(r,0,en(r,dn(e))+1).join("")},Bn.trimStart=function(t,e,n){if((t=_a(t))&&(n||e===i))return t.replace(st,"");if(!t||!(e=fi(e)))return t;var r=dn(t);return ji(r,tn(r,dn(e))).join("")},Bn.truncate=function(t,e){var n=30,r="...";if(ra(e)){var o="separator"in e?e.separator:o;n="length"in e?va(e.length):n,r="omission"in e?fi(e.omission):r}var s=(t=_a(t)).length;if(an(t)){var a=dn(t);s=a.length}if(n>=s)return t;var u=n-pn(r);if(u<1)return r;var c=a?ji(a,0,u).join(""):t.slice(0,u);if(o===i)return c+r;if(a&&(u+=c.length-u),ua(o)){if(t.slice(u).search(o)){var l,f=c;for(o.global||(o=At(o.source,_a(gt.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var h=l.index;c=c.slice(0,h===i?u:h)}}else if(t.indexOf(fi(o),u)!=u){var p=c.lastIndexOf(o);p>-1&&(c=c.slice(0,p))}return c+r},Bn.unescape=function(t){return(t=_a(t))&&J.test(t)?t.replace(K,mn):t},Bn.uniqueId=function(t){var e=++qt;return _a(t)+e},Bn.upperCase=Xa,Bn.upperFirst=Qa,Bn.each=_s,Bn.eachRight=xs,Bn.first=Zo,lu(Bn,(Ou={},xr(Bn,(function(t,e){It.call(Bn.prototype,e)||(Ou[e]=t)})),Ou),{chain:!1}),Bn.VERSION="4.17.21",Se(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Bn[t].placeholder=Bn})),Se(["drop","take"],(function(t,e){Vn.prototype[t]=function(n){n=n===i?1:yn(va(n),0);var r=this.__filtered__&&!e?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=_n(n,r.__takeCount__):r.__views__.push({size:_n(n,m),type:t+(r.__dir__<0?"Right":"")}),r},Vn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Se(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Vn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:lo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Se(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Vn.prototype[t]=function(){return this[n](1).value()[0]}})),Se(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Vn.prototype[t]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(su)},Vn.prototype.find=function(t){return this.filter(t).head()},Vn.prototype.findLast=function(t){return this.reverse().find(t)},Vn.prototype.invokeMap=Xr((function(t,e){return"function"==typeof t?new Vn(this):this.map((function(n){return $r(n,t,e)}))})),Vn.prototype.reject=function(t){return this.filter(zs(lo(t)))},Vn.prototype.slice=function(t,e){t=va(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Vn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=va(e))<0?n.dropRight(-e):n.take(e-t)),n)},Vn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Vn.prototype.toArray=function(){return this.take(m)},xr(Vn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=Bn[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);o&&(Bn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof Vn,c=a[0],l=u||Gs(e),f=function(t){var e=o.apply(Bn,Me([t],a));return r&&h?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,p=!!this.__actions__.length,d=s&&!h,g=u&&!p;if(!s&&l){e=g?e:new Vn(this);var m=t.apply(e,a);return m.__actions__.push({func:ms,args:[f],thisArg:i}),new Hn(m,h)}return d&&g?t.apply(this,a):(m=this.thru(f),d?r?m.value()[0]:m.value():m)})})),Se(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Rt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Bn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Gs(i)?i:[],t)}return this[n]((function(n){return e.apply(Gs(n)?n:[],t)}))}})),xr(Vn.prototype,(function(t,e){var n=Bn[e];if(n){var r=n.name+"";It.call(Pn,r)||(Pn[r]=[]),Pn[r].push({name:e,func:n})}})),Pn[Bi(i,2).name]=[{name:"wrapper",func:i}],Vn.prototype.clone=function(){var t=new Vn(this.__wrapped__);return t.__actions__=Ri(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ri(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ri(this.__views__),t},Vn.prototype.reverse=function(){if(this.__filtered__){var t=new Vn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Vn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Gs(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=_n(e,t+s);break;case"takeRight":t=yn(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,f=l.length,h=0,p=_n(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return mi(t,this.__actions__);var d=[];t:for(;u--&&h<p;){for(var g=-1,m=t[c+=e];++g<f;){var v=l[g],w=v.iteratee,b=v.type,y=w(m);if(2==b)m=y;else if(!y){if(1==b)continue t;break t}}d[h++]=m}return d},Bn.prototype.at=vs,Bn.prototype.chain=function(){return gs(this)},Bn.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===i&&(this.__values__=ga(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Bn.prototype.plant=function(t){for(var e,n=this;n instanceof Wn;){var r=Bo(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},Bn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Vn){var e=t;return this.__actions__.length&&(e=new Vn(this)),(e=e.reverse()).__actions__.push({func:ms,args:[rs],thisArg:i}),new Hn(e,this.__chain__)}return this.thru(rs)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return mi(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,te&&(Bn.prototype[te]=function(){return this}),Bn}();pe._=vn,(r=function(){return vn}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},238:function(t,e,n){var r;!function(i,o){"use strict";var s="function",a="undefined",u="object",c="string",l="model",f="name",h="type",p="vendor",d="version",g="architecture",m="console",v="mobile",w="tablet",b="smarttv",y="wearable",_="embedded",x={extend:function(t,e){var n={};for(var r in t)e[r]&&e[r].length%2==0?n[r]=e[r].concat(t[r]):n[r]=t[r];return n},has:function(t,e){return typeof t===c&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){return typeof t===c?t.replace(/[^\d\.]/g,"").split(".")[0]:o},trim:function(t,e){return t=t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof e===a?t:t.substring(0,255)}},j={rgx:function(t,e){for(var n,r,i,a,c,l,f=0;f<e.length&&!c;){var h=e[f],p=e[f+1];for(n=r=0;n<h.length&&!c;)if(c=h[n++].exec(t))for(i=0;i<p.length;i++)l=c[++r],typeof(a=p[i])===u&&a.length>0?2==a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,l):this[a[0]]=a[1]:3==a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=l?l.replace(a[1],a[2]):o:this[a[0]]=l?a[1].call(this,l,a[2]):o:4==a.length&&(this[a[0]]=l?a[3].call(this,l.replace(a[1],a[2])):o):this[a]=l||o;f+=2}},str:function(t,e){for(var n in e)if(typeof e[n]===u&&e[n].length>0){for(var r=0;r<e[n].length;r++)if(x.has(e[n][r],t))return"?"===n?o:n}else if(x.has(e[n],t))return"?"===n?o:n;return t}},O={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},k={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[f,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[f,d],[/opios[\/\s]+([\w\.]+)/i],[d,[f,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[d,[f,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[f,d],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[d,[f,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[d,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[d,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[f,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[d,[f,"IE"]],[/yabrowser\/([\w\.]+)/i],[d,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure Browser"],d],[/focus\/([\w\.]+)/i],[d,[f,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[d,[f,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[d,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[f,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[d,[f,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[d,[f,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[f,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 Browser"],d],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],d],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[f,d],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[f],[/;fbav\/([\w\.]+);/i],[d,[f,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[f,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[f,d],[/\bgsa\/([\w\.]+)\s.*safari\//i],[d,[f,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[d,[f,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[f,"Chrome WebView"],d],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[d,[f,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[f,d],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[d,[f,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[d,f],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[f,[d,j.str,O.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[f,d],[/(navigator|netscape)\/([\w\.-]+)/i],[[f,"Netscape"],d],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[d,[f,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[f,d]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,x.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[g,/ower/,"",x.lowerize]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,x.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[l,[p,"Samsung"],[h,w]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[l,[p,"Samsung"],[h,v]],[/\((ip(?:hone|od)[\s\w]*);/i],[l,[p,"Apple"],[h,v]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[p,"Apple"],[h,w]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[l,[p,"Huawei"],[h,w]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[l,[p,"Huawei"],[h,v]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[l,/_/g," "],[p,"Xiaomi"],[h,v]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[l,/_/g," "],[p,"Xiaomi"],[h,w]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[l,[p,"OPPO"],[h,v]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[l,[p,"Vivo"],[h,v]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[l,[p,"Realme"],[h,v]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[l,[p,"Motorola"],[h,v]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[p,"Motorola"],[h,w]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[l,[p,"LG"],[h,w]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[l,[p,"LG"],[h,v]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[l,[p,"Lenovo"],[h,w]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[l,/_/g," "],[p,"Nokia"],[h,v]],[/droid.+;\s(pixel\sc)[\s)]/i],[l,[p,"Google"],[h,w]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[l,[p,"Google"],[h,v]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[p,"Sony"],[h,v]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[l,"Xperia Tablet"],[p,"Sony"],[h,w]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[l,[p,"OnePlus"],[h,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[l,[p,"Amazon"],[h,w]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[l,"Fire Phone"],[p,"Amazon"],[h,v]],[/\((playbook);[\w\s\),;-]+(rim)/i],[l,p,[h,w]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[l,[p,"BlackBerry"],[h,v]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[l,[p,"ASUS"],[h,w]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[l,[p,"ASUS"],[h,v]],[/(nexus\s9)/i],[l,[p,"HTC"],[h,w]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[p,[l,/_/g," "],[h,v]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[l,[p,"Acer"],[h,w]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[l,[p,"Meizu"],[h,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[p,l,[h,v]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[p,l,[h,w]],[/\s(surface\sduo)\s/i],[l,[p,"Microsoft"],[h,w]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[l,[p,"Fairphone"],[h,v]],[/\s(u304aa)\sbuild/i],[l,[p,"AT&T"],[h,v]],[/sie-(\w*)/i],[l,[p,"Siemens"],[h,v]],[/[;\/]\s?(rct\w+)\sbuild/i],[l,[p,"RCA"],[h,w]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[l,[p,"Dell"],[h,w]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[l,[p,"Verizon"],[h,w]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[l,[p,"Barnes & Noble"],[h,w]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[l,[p,"NuVision"],[h,w]],[/;\s(k88)\sbuild/i],[l,[p,"ZTE"],[h,w]],[/;\s(nx\d{3}j)\sbuild/i],[l,[p,"ZTE"],[h,v]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[l,[p,"Swiss"],[h,v]],[/[;\/]\s?(zur\d{3})\sbuild/i],[l,[p,"Swiss"],[h,w]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[l,[p,"Zeki"],[h,w]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[p,"Dragon Touch"],l,[h,w]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[l,[p,"Insignia"],[h,w]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[l,[p,"NextBook"],[h,w]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[p,"Voice"],l,[h,v]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[p,"LvTel"],l,[h,v]],[/;\s(ph-1)\s/i],[l,[p,"Essential"],[h,v]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[l,[p,"Envizen"],[h,w]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[l,[p,"MachSpeed"],[h,w]],[/[;\/]\s?tu_(1491)\sbuild/i],[l,[p,"Rotor"],[h,w]],[/(shield[\w\s]+)\sbuild/i],[l,[p,"Nvidia"],[h,w]],[/(sprint)\s(\w+)/i],[p,l,[h,v]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[p,"Microsoft"],[h,v]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[p,"Zebra"],[h,w]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[p,"Zebra"],[h,v]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[p,l,[h,m]],[/droid.+;\s(shield)\sbuild/i],[l,[p,"Nvidia"],[h,m]],[/(playstation\s[345portablevi]+)/i],[l,[p,"Sony"],[h,m]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[l,[p,"Microsoft"],[h,m]],[/smart-tv.+(samsung)/i],[p,[h,b]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[p,"Samsung"],[h,b]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[p,"LG"],[h,b]],[/(apple)\s?tv/i],[p,[l,"Apple TV"],[h,b]],[/crkey/i],[[l,"Chromecast"],[p,"Google"],[h,b]],[/droid.+aft([\w])(\sbuild\/|\))/i],[l,[p,"Amazon"],[h,b]],[/\(dtv[\);].+(aquos)/i],[l,[p,"Sharp"],[h,b]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[p,x.trim],[l,x.trim],[h,b]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[h,b]],[/((pebble))app\/[\d\.]+\s/i],[p,l,[h,y]],[/droid.+;\s(glass)\s\d/i],[l,[p,"Google"],[h,y]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[l,[p,"Zebra"],[h,y]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[p,[h,_]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[l,[h,v]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[l,[h,w]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[h,x.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[l,[p,"Generic"]],[/(phone)/i],[[h,v]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[d,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[f,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,f]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[f,d],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[f,[d,j.str,O.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[f,"Windows"],[d,j.str,O.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[f,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[f,"Mac OS"],[d,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[f,d],[/\(bb(10);/i],[d,[f,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[d,[f,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[f,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[f,"webOS"]],[/crkey\/([\d\.]+)/i],[d,[f,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[f,"Chromium OS"],d],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[f,d],[/(sunos)\s?([\w\.\d]*)/i],[[f,"Solaris"],d],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[f,d]]},E=function(t,e){if("object"==typeof t&&(e=t,t=o),!(this instanceof E))return new E(t,e).getResult();var n=t||(void 0!==i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=e?x.extend(k,e):k;return this.getBrowser=function(){var t={name:o,version:o};return j.rgx.call(t,n,r.browser),t.major=x.major(t.version),t},this.getCPU=function(){var t={architecture:o};return j.rgx.call(t,n,r.cpu),t},this.getDevice=function(){var t={vendor:o,model:o,type:o};return j.rgx.call(t,n,r.device),t},this.getEngine=function(){var t={name:o,version:o};return j.rgx.call(t,n,r.engine),t},this.getOS=function(){var t={name:o,version:o};return j.rgx.call(t,n,r.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(t){return n=typeof t===c&&t.length>255?x.trim(t,255):t,this},this.setUA(n),this};E.VERSION="0.7.28",E.BROWSER={NAME:f,MAJOR:"major",VERSION:d},E.CPU={ARCHITECTURE:g},E.DEVICE={MODEL:l,VENDOR:p,TYPE:h,CONSOLE:m,MOBILE:v,SMARTTV:b,TABLET:w,WEARABLE:y,EMBEDDED:_},E.ENGINE={NAME:f,VERSION:d},E.OS={NAME:f,VERSION:d},typeof e!==a?(t.exports&&(e=t.exports=E),e.UAParser=E):(r=function(){return E}.call(e,n,e,t))===o||(t.exports=r);var S=void 0!==i&&(i.jQuery||i.Zepto);if(S&&!S.ua){var A=new E;S.ua=A.getResult(),S.ua.get=function(){return A.getUA()},S.ua.set=function(t){A.setUA(t);var e=A.getResult();for(var n in e)S.ua[n]=e[n]}}}("object"==typeof window?window:this)}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r={};return(()=>{"use strict";n.r(r),n.d(r,{build:()=>Ht,canvas:()=>Gt,core:()=>Vt,data:()=>Yt,flow:()=>Zt,html:()=>Kt,plugins:()=>Jt,util:()=>Xt,version:()=>Wt});var t=n(486),e=n(614),i=n.n(e),o=n(782);class s{constructor(t){this.plugins=[],this.context=t}add(t){this.plugins.push(t),t.handle(this.context,"plugin:init")}remove(e){e.handle(this.context,"plugin:removal"),this.plugins=(0,t.without)(this.plugins,e)}trigger(t,...e){return Promise.all(this.plugins.map((n=>n.handle(this.context,t,...e))))}}class a{constructor(t={}){this.internals={callbacks:{},rawOptions:Object.assign({debug:!1,plugins:[]},t),parsedOptions:{}},this.plugins=new s(this),this.internals.rawOptions.plugins.map((t=>this.plugins.add(t)))}on(t,e){return e.displayName=e.displayName||`${t} handler on ${this.internals.rawOptions.title}`,this.internals.callbacks[`$${t}`]=this.internals.callbacks[`$${t}`]||[],this.internals.callbacks[`$${t}`].push(e),this}off(t,e=null){return null===e?delete this.internals.callbacks[`$${t}`]:this.internals.callbacks[`$${t}`]=this.internals.callbacks[`$${t}`].filter((t=>t!==e)),this}once(t,e){function n(...r){return this.off(t,n),e.apply(this,r)}return n.fn=e,this.on(t,n),this}waitFor(t){return new Promise((e=>this.on(t,e)))}async trigger(t,...e){const n=this.internals.callbacks[`$${t}`];if(n)try{await Promise.all(n.map((t=>t.apply(this,e))))}catch(e){throw console.error(`%cError in ${this.internals.rawOptions.title}%c during event ${t}%c: ${e}`,"font-weight: bold","font-weight: normal","font-weight: normal; opacity: 0.5"),e}return await this.plugins.trigger(t,...e),this}async triggerMethod(e,...n){this.internals.rawOptions.debug&&(console.info(`%c${this.internals.rawOptions.title}%c (${this.type}) → Event %c${e}%c · arguments [${n}]`,"font-weight: bold","font-weight: normal","font-weight: bold","font-weight: normal; opacity: 0.5"),console.time(`${e} on ${this.internals.rawOptions.title}(${this.internals.rawOptions.id})`));const r=this[`on${e.replace(/(^|:)(\w)/gi,(function(t,e,n){return n.toUpperCase()}))}`];let i;return(0,t.isFunction)(r)&&(i=await r.apply(this,n)),await this.trigger(e,...n),this.internals.rawOptions.debug&&console.timeEnd(`${e} on ${this.internals.rawOptions.title}(${this.internals.rawOptions.id})`),i}}var u=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const c=(t,e,{throttle:n=!0}={})=>{let r,i,o,s=[],a=!1,u=!1;const c=function(){if(a&&n)u=!0;else{const e=s;s=[],r=null,a=!0,Promise.resolve(t.apply(o,i)).then((t=>{for(const[n,r]of e)n(t)})).catch((t=>{for(const[n,r]of e)r(t)})).finally((()=>{u&&null===r&&l(),a=u=!1}))}},l=function(){clearTimeout(r),s.length>0&&c()},f=function(){return new Promise(((t,n)=>{i=arguments,o=this,clearTimeout(r),r=setTimeout(c,e),s.push([t,n])}))};return f.flush=l,f.cancel=function(){clearTimeout(r),r=null,u=!1,i=o=void 0,s=[]},f},l=["id","participant","participant_id"],f=[...l,"sender","sender_type","sender_id","timestamp","meta"],h=e=>((0,t.isObject)(e)&&(e=JSON.stringify(e)),"string"==typeof e&&(e=e.replace(/"/g,'""'),/[,"\n]+/.test(e)&&(e=`"${e}"`)),e),p=t=>t.toString().padStart(2,"0"),d=e=>e.map((e=>(0,t.omitBy)(e,((t,e)=>e.startsWith("_")))));class g extends a{constructor(t={}){super(t),this.stateProxy=new window.Proxy({},{get:(t,e)=>this.get(e),set:(t,e,n)=>this.set(e,n)||!0,has:(t,e)=>Reflect.has(this.state,e),ownKeys:()=>Reflect.ownKeys(this.state),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(this.state,e)}),this._debouncedTransmit=c(this.transmit,2500),this._lastIncrementalTransmission=0,"session"===t.persistence?this.storage=sessionStorage:"local"===t.persistence?this.storage=localStorage:this.storage=null,t.clearPersistence&&this.clear();let e=!0;if(this.storage){const t=this.storage.getItem("lab.js-data");if(t)try{this.data=JSON.parse(t),this.state=Object.assign({},...this.data),f.forEach((t=>{Object.hasOwnProperty.call(this.state,t)&&delete this.state[t]})),e=!1}catch(t){e=!0}}e&&(this.data=[],this.state={}),this.staging={}}set(t,e,n=!1){let r={};"object"==typeof t?r=t:r[t]=e,this.state=Object.assign(this.state,r),this.staging=Object.assign(this.staging,r),n||this.triggerMethod("set")}get(t){return this.state[t]}commit(e={},n){this.set(e,n,!0);const r=this.data.push((0,t.cloneDeep)(this.staging))-1;return this.storage&&this.storage.setItem("lab.js-data",JSON.stringify(this.data)),this.triggerMethod("commit"),this.staging={},r}update(t,e=(t=>t)){this.data[t]=e(this.data[t]||{}),this.triggerMethod("update")}clear(t=!0,e=!1){this.triggerMethod("clear"),t&&this.storage&&this.storage.clear(),e&&(this.data=[],this.staging={},this.state={})}keys(e=!1,n=f){let r=this.data.map((t=>Object.keys(t)));e&&r.push(Object.keys(this.state)),r=(0,t.flatten)(r),r.sort(),r=(0,t.uniq)(r,!0).sort();const i=(0,t.intersection)(n,r),o=(0,t.difference)(r,i);return i.concat(o)}extract(t,e=RegExp(".*")){const n="string"==typeof e?RegExp(`^${e}$`):e;return this.data.filter((t=>n.test(t.sender))).map((e=>e[t]))}select(e,n=RegExp(".*")){let r;if(r="function"==typeof e?this.keys().filter(e):"string"==typeof e?[e]:e,!Array.isArray(r))throw new Error("The input parameter should be either an array of strings, a string, or a filter function.");const i="string"==typeof n?RegExp(`^${n}$`):n;return this.data.filter((t=>i.test(t.sender))).map((e=>(0,t.pick)(e,r)))}get cleanData(){return d(this.data)}exportJson(t=!0){const e=t?this.cleanData:this.data;return JSON.stringify(e)}exportJsonL(t=!0){return(t?this.cleanData:this.data).map((t=>JSON.stringify(t))).join("\n")}exportCsv(t=",",e=!0){const n=e?this.cleanData:this.data,r=this.keys().filter((t=>!e||!t.startsWith("_"))),i=n.map((e=>r.map((t=>Object.hasOwnProperty.call(e,t)?e[t]:null)).map(h).join(t)));return i.unshift(r.map(h).join(t)),i.join("\r\n")}exportBlob(t="csv"){let e="";return e="json"===t?this.exportJson():this.exportCsv(),new Blob([e],{type:"octet/stream"})}get id(){for(const t of l)if(Object.keys(this.state).includes(t))return this.state[t]}makeFilename(t="study",e="csv"){const{id:n}=this;return t+"--"+(n?`${n}--`:"")+((t=new Date)=>`${t.getFullYear()}-${p((t.getMonth()+1).toString())}-${p(t.getDate().toString())}--${t.toTimeString().split(" ")[0]}`)()+(e?`.${e}`:"")}download(t="csv",e="data.csv"){return(0,o.saveAs)(this.exportBlob(t),e)}show(){return console.table(this.data,this.keys())}transmit(t,e={},{incremental:n=!1,encoding:r="json",headers:i={},retry:o={}}={}){this.triggerMethod("transmit");const s=n?this._lastIncrementalTransmission:0,a=this.data.length,c=d(this.data.slice(s));let l,f={};return"form"===r?(l=new FormData,l.append("metadata",JSON.stringify(Object.assign({slice:s},e))),l.append("url",window.location.href),l.append("data",JSON.stringify(c))):(l=JSON.stringify({metadata:Object.assign({slice:s},e),url:window.location.href,data:c}),f={Accept:"application/json","Content-Type":"application/json"}),((t,e={})=>{var{retry:{times:n=3,delay:r=10,factor:i=5}={}}=e,o=u(e,["retry"]);return new Promise(((e,s)=>{const a=r=>window.fetch(t,o).then((t=>e(t))).catch((t=>{r<=n?u(r):s(t)})),u=t=>{setTimeout((()=>a(++t)),r*i**t)};a(0)}))})(t,{method:"post",headers:Object.assign(Object.assign({},f),i),body:l,credentials:"include",retry:Object.assign({times:n?2:3},o)}).then((t=>(n&&(this._lastIncrementalTransmission=a),t)))}queueIncrementalTransmission(t,e,n){return this._debouncedTransmit(t,e,Object.assign({incremental:!0},n))}flushIncrementalTransmissionQueue(){this._debouncedTransmit.flush()}cancelIncrementalTransmissionQueue(){this._debouncedTransmit.cancel()}}var m=n(238),v=n.n(m);const w=(new(v())).getBrowser().name,b=parseInt((new(v())).getBrowser().version.split(".")[0],10),y={frameInterval:16.68},_="Firefox"===w&&b<54,x=t=>t&&!_&&t<performance.timing.navigationStart?t:performance.now(),j=window.requestIdleCallback?window.requestIdleCallback:t=>window.setTimeout(t);class O{constructor(t,e,...n){this.f=t,this.delay=e,this.params=n,this._running=!1,this._timeoutHandle=null}run(){this._running?console.log("Cannot restart previously run timer"):(this._timeoutHandle=window.setTimeout(this.f,this.delay,...this.params),this._running=!0)}cancel(){window.clearTimeout(this._timeoutHandle)}}const k={overshoot:1,closest:1.5,undershoot:2};class E{constructor(t,e,...n){this.delay=e,this.f=t,this.params=n,this._running=!1,this._timeoutHandle=void 0,this._animationFrameHandle=void 0,this._lastAnimationFrame=void 0,this.targetTime=void 0,this.mode="closest",this.tick=this.tick.bind(this)}tick(t=performance.now(),e=!1){const n=t-this._lastAnimationFrame||y.frameInterval;n<y.frameInterval&&(y.frameInterval=n);(this.targetTime-t)/n<=k[this.mode]?this.f(t,...this.params):this.targetTime-t<200?(this._animationFrameHandle=window.requestAnimationFrame((t=>this.tick(t,!0))),e&&(this._lastAnimationFrame=t)):this._timeoutHandle=window.setTimeout(this.tick,(this.targetTime-t-100)/2)}run(t=performance.now()){this._running?console.log("Cannot restart previously run timer"):(this.targetTime=this.targetTime||t+this.delay,this.tick(),this._running=!0)}cancel(){window.clearTimeout(this._timeoutHandle),window.cancelAnimationFrame(this._animationFrameHandle)}}const S=async(t,e,n)=>{const r=await fetch(t,n);if(!r.ok)throw new Error(`Couldn't load audio from ${r.url}`);{const n=await r.arrayBuffer();try{const r=await((t,e)=>new Promise(((n,r)=>{t.decodeAudioData(e,n,r)})))(e,n);if(!r)throw new Error(`No data available after decoding ${t}`);return r}catch(e){throw new Error(`Error decoding audio data from ${t}`)}}},A=(t,e,n={},r={})=>{let i;switch(t){case"oscillator":i=e.createOscillator();break;case"bufferSource":i=e.createBufferSource();break;default:throw new Error("Can't create node of unknown type")}return Object.entries(n).forEach((([t,e])=>{e&&(i[t]=e)})),Object.entries(r).forEach((([t,e])=>{e&&(i[t].value=e)})),i};class C{constructor(t,e={},n={}){var r;this.defaultPayload={panningModel:"equalpower"},this.timeline=t,this.options=e,this.payload=Object.assign(Object.assign(Object.assign({},this.defaultPayload),n),{gain:null!==(r=n.gain)&&void 0!==r?r:1}),this.processingChain=[],this.nodeOrder={}}setAudioOrigin(){this.audioSyncOrigin=((t,e=!1)=>e&&"getOutputTimestamp"in t?Object.assign(Object.assign({},t.getOutputTimestamp()),{baseLatency:t.baseLatency||0}):{contextTime:t.currentTime,performanceTime:performance.now(),baseLatency:t.baseLatency||0})(this.timeline.controller.audioContext)}schedule(t){return((t,{contextTime:e,performanceTime:n,baseLatency:r})=>(t-n)/1e3+e-r)(t,this.audioSyncOrigin)}prepare(){const t=this.timeline.controller.audioContext;if("number"==typeof this.payload.gain&&1!==this.payload.gain||this.payload.rampUp&&0!==this.payload.rampUp||this.payload.rampDown&&0!==this.payload.rampDown){const e=t.createGain();e.gain.value=this.payload.rampUp?1e-10:this.payload.gain,this.nodeOrder.gain=this.processingChain.push(e)-1}if(this.payload.pan&&0!==this.payload.pan){const e=t.createPanner();e.panningModel=this.payload.panningModel,e.setPosition(this.payload.pan,0,1-Math.abs(this.payload.pan)),this.processingChain.push(e)}var e,n,r;e=this.source,n=this.processingChain,r=t.destination,[e,...n,r].reduce(((t,e)=>(t.connect(e),e)))}start(t){const{start:e}=this.options,{rampUp:n}=this.payload,r=this.timeline.controller.audioContext;"running"!==r.state&&console.warn(`Sending audio to a context in ${r.state} state.`,"This may result in missing sounds —","Please make sure that users interact with the page","before using audio."),this.setAudioOrigin();const i=Math.max(0,this.schedule(t+e));if(n){const r=this.processingChain[this.nodeOrder.gain].gain,o=this.schedule(t+e+parseFloat(n));r.setValueAtTime(1e-10,i),r.exponentialRampToValueAtTime(this.payload.gain,o)}this.source.start(i)}afterStart(t){const{stop:e}=this.options,{rampDown:n}=this.payload;if(e&&n){const r=this.processingChain[this.nodeOrder.gain].gain,i=this.schedule(t+e-parseFloat(n)),o=this.schedule(t+e);r.setValueAtTime(this.payload.gain,i),r.exponentialRampToValueAtTime(1e-4,o)}if(e){const n=this.schedule(t+e);this.source.stop(n)}}end(t,e){const n=e||!this.options.stop,r=n?t:this.timeline.offset+this.options.stop;if(n){const e=this.schedule(t);this.source.stop(e)}window.setTimeout((()=>j((()=>this.teardown()))),r-performance.now()+20)}teardown(){this.source.disconnect(),this.source=void 0,this.processingChain.forEach((t=>t.disconnect())),this.processingChain=[],this.nodeOrder={}}}class T extends C{async prepare(){const{cache:t,audioContext:e}=this.timeline.controller,{src:n,loop:r}=this.payload,i=await t.audio.get(n);this.source=A("bufferSource",e,{buffer:i,loop:r}),super.prepare()}}class R extends C{prepare(){const{type:t,frequency:e,detune:n}=this.payload;this.source=A("oscillator",this.timeline.controller.audioContext,{type:t},{frequency:e,detune:n}),super.prepare()}}class ${constructor(t,e=[]){this.controller=t,this.events=e,this.offset=void 0}async prepare(){const e=(0,t.sortBy)(this.events,[t=>t.start,t=>t.priority]);return this.items=e.map((e=>{const n=(0,t.omit)(e,"payload");switch(e.type){case"sound":return new T(this,n,e.payload);case"oscillator":return new R(this,n,e.payload);default:console.warn(`Unknown event type ${e.type}, skipping`)}})),await Promise.all(this.items.map((t=>t.prepare())))}start(t){this.items.forEach((e=>e.start(t))),this.offset=t,j((()=>this.afterStart()))}afterStart(){this.items.forEach((t=>t.afterStart(this.offset)))}async end(t,e=!1){return Promise.all(this.items.map((n=>n.end(t,e))))}async teardown(){}}n(137);const P={Space:" ",Comma:","},M=function(t,{filters:e=[],filterRepeat:n=!0,startTime:r=-1/0}){const i=[];if(i.push((t=>x(t.timeStamp)>=r)),["keypress","keydown","keyup"].includes(t)){const t=(e||[]).map((t=>P[t]||t));(t.length>0||n)&&i.push((function(e){return!(n&&e.repeat||t.length>0&&!t.includes(e.key))}))}else if(["click","mousedown","mouseup"].includes(t)){const t=(e||[]).map((t=>parseInt(t)));t.length>0&&i.push((function(e){return t.includes(e.button)}))}return i},F=([t,e,n])=>({eventName:t,filters:e,selector:n});class I{constructor(t){this.el=t.el||document,this.events=t.events||{},this.parsedEvents=[],this.context=t.context||this,this.processEvent=t.processEvent||F,this.startTime=-1/0}wrapHandler(t,e){return null!==this.context&&(t=t.bind(this.context)),n=>e.reduce(((t,e)=>t&&e(n,this.context)),!0)?t(n):null}prepare(){this.parsedEvents=Object.entries(this.events).map((([t,e])=>{const{eventName:n,filters:r,selector:i,moreChecks:o=[]}=this.processEvent(function(t){const e=/^(\w+)(?:\s+(.*))?$/,n=/^(\w+)\(([^()]+)\)(?:\s+(.*))?$/;let r=null,i=null,o=null;return e.test(t)?[,r,o]=e.exec(t):n.test(t)?([,r,i,o]=n.exec(t),i=i.split(",").map((t=>t.trim()))):console.log("Can't interpret event string ",t),[r,i,null!=o?o:""]}(t));return[t,n,i,this.wrapHandler(e,[...M(n,{filters:r,startTime:this.startTime}),...o])]}))}attach(){this.parsedEvents.forEach((([,t,e,n])=>{""!==e?Array.from(this.el.querySelectorAll(e)).forEach((e=>e.addEventListener(t,n))):document.addEventListener(t,n)}))}detach(){this.parsedEvents.forEach((([,t,e,n])=>{""!==e?Array.from(this.el.querySelectorAll(e)).forEach((e=>e.removeEventListener(t,n))):document.removeEventListener(t,n)}))}teardown(){this.parsedEvents=null}}const q=t=>t.reduce(((t,e)=>t+e),0),z=t=>q(t)/t.length,L=t=>{const e=z(t);return z(t.map((t=>(t-e)**2)))};var D=n(421),N=n.n(D);const B=(t=Math.random)=>"00000000-0000-4000-8000-000000000000".replace(/[08]/g,(e=>(e^16*t()>>e/4).toString(16)));class Random{constructor(t={}){"alea"===t.algorithm?this.random=N()(t.seed||((t=256)=>{const e=new Uint8Array(t);return(window.crypto||window.msCrypto).getRandomValues(e),String.fromCharCode.apply(null,e)})()):this.random=Math.random}range(t,e){const n=void 0===e?t:e-t;return(void 0===e?0:t)+Math.floor(this.random()*n)}choice(t,e){return e?t[((t,e=Math.random)=>{let n=e()*q(t);for(let e=0;e<t.length;e++)if(n-=t[e],n<0)return e})(e,this.random)]:t[this.range(t.length)]}sample(e,n=1,r=!1){return r?Array(n).fill(0).map((()=>this.choice(e))):this.shuffle(e).slice(0,(0,t.clamp)(n,e.length))}sampleMode(e,n,r="draw-shuffle"){if(!(Array.isArray(e)&&e.length>0))throw new Error("Can't sample: Empty input, or not an array");const i=n||e.length,o=Math.floor(i/e.length),s=i%e.length;switch(r){case"sequential":return[...(0,t.range)(o).reduce((t=>t.concat(e)),[]),...e.slice(0,s)];case"draw":case"draw-shuffle":const n=[...(0,t.range)(o).reduce((t=>t.concat(this.shuffle(e))),[]),...this.sample(e,s,!1)];return"draw-shuffle"===r&&i>e.length?this.shuffle(n):n;case"draw-replace":return this.sample(e,i,!0);default:throw new Error("Unknown sample mode, please specify")}}shuffle(t){const e=t.slice();let n=e.length;for(;0!==n;){const t=this.range(n--);[e[n],e[t]]=[e[t],e[n]]}return e}constrainedShuffle(e,n={},r={},i=1e4,o=!1){let s;if((0,t.isFunction)(n))s=n;else{const t=[];n.maxRepSeries&&t.push((a=n.maxRepSeries,u=r.equality,t=>((t,e=((t,e)=>t===e))=>{if(0===t.length)return 0;let n=1,r=1;for(let i=0;i<t.length-1;i++)e(t[i],t[i+1])?(r++,r>n&&(n=r)):r=1;return n})(t,u)<=a)),n.minRepDistance&&t.push(((t,e)=>n=>((t,e=(t=>t))=>{if(0===t.length)return;const n={};let r=1/0;for(let i=0;i<t.length;i++){const o=e(t[i]);if(void 0!==n[o]){const t=i-n[o];r>t&&(r=t)}n[o]=i}return r})(n,e)>=t)(n.minRepDistance,r.hash)),s=e=>t.reduce(((t,n)=>t&&n(e)),!0)}var a,u;let c,l;for(l=0;l<i&&(c=this.shuffle(e),!s(c));l++);if(l>=i){const t=`constrainedShuffle could not find a matching candidate after ${i} iterations`;if(o)throw new Error(t);console.warn(t)}return c}shuffleTable(e,n=[],r=!0){const i=n.map((n=>e.map((e=>(0,t.pick)(e,n))))),o=(0,t.flatten)(n),s=e.map((e=>(0,t.omit)(e,o)));return(0,t.merge)(...i.map((t=>({data:this.shuffle(t)}))),{data:r?this.shuffle(s):s}).data}uuid4(){return B(this.random)}}const U=t=>Object.assign({},...(t=>{const e=[Object.getPrototypeOf(t)];for(;Object.getPrototypeOf(e[0]);)e.unshift(Object.getPrototypeOf(e[0]));return e})(t).map((t=>{var e;return null===(e=t.constructor.metadata)||void 0===e?void 0:e.parsableOptions}))),W=(e,n,r,i={})=>{if(!r)return e;if(!(0,t.isString)(e))return(0,t.isArray)(e)?e.map((t=>W(t,n,r.content,i))):(0,t.isPlainObject)(e)?(0,t.fromPairs)(Object.entries(e).map((([t,e])=>{var o,s;return[r.keys?W(t,n,{},i):t,W(e,n,(null===(o=r.content)||void 0===o?void 0:o[t])||(null===(s=r.content)||void 0===s?void 0:s["*"]),i)]}))):e;{const o=(0,t.template)(e,{escape:"",evaluate:""}).call(i,n);switch(r.type){case void 0:return o;case"number":return Number(o);case"boolean":return Boolean("false"!==o.trim());default:throw new Error(`Output type ${r.type} unknown, can't convert option`)}}},H=(t="complete")=>new Promise((e=>{if(document.readyState===t)e();else{const n=r=>{r.target.readyState===t&&(r.target.removeEventListener("readystatechange",n),e())};document.addEventListener("readystatechange",n)}}));class V{constructor(t){this.cache=new Map,this.pending=new Map,this.cachedFunc=t}async get(t){if(this.cache.has(t))return this.cache.get(t);if(this.pending.has(t))return await this.pending.get(t);{const e=this.cachedFunc(t);this.pending.set(t,e);const n=await e;return this.cache.set(t,n),this.pending.delete(t),n}}async getAll(t){return Promise.all(t.map((t=>this.get(t))))}readSync(t){if(this.cache.has(t))return this.cache.get(t);throw Error(`Key "${t}" not present in cache`)}}const G=async t=>{const e=new Image;return e.src=t,await e.decode(),e};class K extends V{constructor(){super(G),this.bitmapCache=new WeakMap}async get(t){const e=await super.get(t);if(window.createImageBitmap)try{const t=await createImageBitmap(e);this.bitmapCache.set(e,t)}catch(e){console.log(`Couldn't cache bitmap for ${t}, error ${e}`)}return e}readSync(t){const e=super.readSync(t);return[e,this.bitmapCache.get(e)]}}class Z extends V{constructor(t){super((e=>S(e,t)))}}const J=(e,n)=>{n(e);const r=Object.getPrototypeOf(e).constructor.metadata;r.nestedComponents&&r.nestedComponents.forEach((r=>{const i=e.options[r];(0,t.isArray)(i)?i.map((t=>J(t,n))):i instanceof Component&&J(i,n)}))},Y=(e,n,r)=>{let i=(0,t.cloneDeep)(r);return J(e,(t=>i=n(i,t))),i},X=(t,e)=>Object.assign({},...t.parents.map((t=>t.options[e]||{})),t.options[e]),Q=Object.freeze({initialized:0,prepared:1,running:2,done:3}),tt=["debug","el"];class et{constructor(){this.datastore=new g,this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.cache={images:new K,audio:new Z(this.audioContext)},this.domConnection=new I({el:document,context:this}),this.domConnection.events={keydown:this.indicateInteraction,mousedown:this.indicateInteraction,touchstart:this.indicateInteraction},this.domConnection.prepare(),this.domConnection.attach()}async indicateInteraction(){"suspended"===this.audioContext.state&&await this.audioContext.resume(),this.domConnection.detach()}}class Component extends a{constructor(t={}){super(Object.assign(Object.assign({events:{},messageHandlers:{},timeline:[],el:null,controller:null,title:null,id:null,tardy:!1,skip:!1,scrollTop:!1,parent:null,parameters:{},responses:{},correctResponse:null,data:{},datacommit:null,random:{},timeout:null,handMeDowns:[...tt]},t),{media:Object.assign({images:[],audio:[]},t.media),files:Object.assign({},t.files),timing:Object.assign({method:"frames"},t.timing)})),this.status=Q.initialized,this.data={},this.internals=Object.assign({timestamps:{}},this.internals),this.parameters=new window.Proxy({},{get:(t,e)=>this.aggregateParameters[e],set:(t,e,n)=>(this.options.parameters[e]=n)||!0,has:(t,e)=>Reflect.has(this.aggregateParameters,e),ownKeys:(t,e)=>Reflect.ownKeys(this.aggregateParameters),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(this.aggregateParameters,e)}),this.state=new window.Proxy({},{get:(t,e)=>{if(this.options.datastore)return this.options.datastore.state[e];throw new Error("No datastore to read state from")},set:(t,e,n)=>{if(this.options.datastore)return this.options.datastore.set(e,n),!0;throw new Error("No datastore to save state to")},has:(t,e)=>{if(this.options.datastore)return Reflect.has(this.options.datastore.state,e);throw new Error("No datastore to read state from")},ownKeys:t=>{if(this.options.datastore)return Reflect.ownKeys(this.options.datastore.state);throw new Error("No datastore to read state from")},getOwnPropertyDescriptor:(t,e)=>{if(this.options.datastore)return Reflect.getOwnPropertyDescriptor(this.options.datastore.state,e);throw new Error("No datastore to read state from")}}),this.files=new window.Proxy({},{get:(t,e)=>this._aggregateFiles[e],set:(t,e,n)=>(this.options.files[e]=n)||!0,has:(t,e)=>Reflect.has(this._aggregateFiles,e),ownKeys:(t,e)=>Reflect.ownKeys(this._aggregateFiles),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(this._aggregateFiles,e)}),this.internals.parsedOptions=Object.create(this.internals.rawOptions),this.options=new(i())(this.internals.rawOptions,{get:(t,e)=>this.internals.parsedOptions[e],set:(t,e,n)=>{if(this.internals.rawOptions[e]=n,this.status>=Q.prepared){const t=W(n,{parameters:this.aggregateParameters,state:this.options.datastore.state,files:this._aggregateFiles,random:this.random},U(this)[e],this);t!==n&&(this.internals.parsedOptions[e]=t)}return!0}}),Object.keys(this.options.messageHandlers).forEach((t=>this.on(t,this.options.messageHandlers[t]))),this.internals.domConnection=new I({el:this.options.el,context:this}),this.on("run",(()=>{this.internals.domConnection.attach()})),this.on("end",(()=>{this.internals.domConnection.detach()}))}async prepare(e=!0){if(this.options.tardy&&!e)return void(this.options.debug&&console.log("Skipping automated preparation"));this.parent&&this.parents.reduce(((t,e)=>(e.options.handMeDowns.forEach((e=>t.add(e))),t)),new Set).forEach((t=>{this.options[t]=this.options[t]||this.parent.options[t]})),this.parent&&this.parent.internals.controller?this.internals.controller=this.parent.internals.controller:(this.internals.controller=new et,this.once("after:prepare",H)),this.options.datastore=this.internals.controller.datastore,this.internals.timeline=new $(this.internals.controller),this.options.debug&&(this.on("before:run",(()=>console.group(`${this.options.title} %c(${this.type})`,"font-weight: normal"))),this.on("after:end",(()=>console.groupEnd()))),this.options.debug&&null==this.options.el&&console.log("No output element specified, using main section"),this.options.el=this.options.el||document.querySelector('[data-labjs-section="main"]'),this.internals.root=this.parents[0],this.random=new Random(this.options.random),await this.triggerMethod("before:prepare");const n=Object.freeze({parameters:this.aggregateParameters,state:this.options.datastore.state,files:this._aggregateFiles,random:this.random}),r=(i=this.internals.rawOptions,o=n,s=U(this),a=n,(0,t.fromPairs)(Object.entries(s).map((([t,e])=>{if(i[t]){const n=W(i[t],o,e,a);if(n!==i[t])return[t,n]}})).filter((t=>void 0!==t))));var i,o,s,a;if(this.internals.parsedOptions=Object.assign(Object.create(this.internals.rawOptions),r),Object.keys(this.options.responses).forEach((t=>{this.options.events[t]=e=>{e.preventDefault(),this.respond(this.options.responses[t],{timestamp:x(e.timeStamp),action:t})}})),this.internals.domConnection.events=this.options.events,this.internals.domConnection.el=this.options.el,null!==this.options.timeout){const t="frames"===this.options.timing.method?E:O;this.internals.timeout=new t((t=>this.end("timeout",t,!0)),this.options.timeout),this.on("show",(t=>{this.internals.timeout.run(t),this.options.debug&&(this.internals.timestamps.timeoutTarget=this.internals.timeout.targetTime)}))}this.data=Object.assign(Object.assign({},this.data),this.options.data),await this.triggerMethod("prepare",e),this.status=Q.prepared,await this.preload(),this.internals.timeline.events=this.options.timeline,await this.internals.timeline.prepare(),this.internals.domConnection.prepare(),await this.triggerMethod("after:prepare")}async preload(){await Promise.all([this.internals.controller.cache.images.getAll(this.options.media.images),this.internals.controller.cache.audio.getAll(this.options.media.audio)])}async run(t,e){return this.status<Q.prepared&&(this.options.debug&&console.log("Preparing at the last minute"),await this.prepare()),await this.triggerMethod("before:run"),this.status=Q.running,this.internals.timestamps.run=performance.now(),this.options.skip?this.end("skipped",t,e):(this.options.scrollTop&&window.scrollTo(0,0),await this.triggerMethod("run",t,e),this.render(t,e))}async render(t,e){const n=async t=>{this.internals.timestamps.render=t,await this.triggerMethod("render",t),this.internals.timeline.start(t+y.frameInterval),this.internals.showFrameRequest=window.requestAnimationFrame((t=>{this.internals.timestamps.show=t,this.triggerMethod("show",t)}))};e?n(t):this.internals.frameRequest=window.requestAnimationFrame(n)}respond(t=null,{timestamp:e,action:n}={}){return this.data.response=t,n&&(this.data.response_action=n),null!==this.options.correctResponse&&(this.data.correctResponse=this.options.correctResponse,this.data.correct=t===this.options.correctResponse),this.end("response",e)}async end(t=null,e=performance.now(),n=!1){this.internals.timestamps.end=e,this.data.ended_on=t,this.status=Q.done,null!==this.options.timeout&&this.internals.timeout.cancel(),this.internals.frameRequest&&window.cancelAnimationFrame(this.internals.frameRequest),this.internals.showFrameRequest&&window.cancelAnimationFrame(this.internals.showFrameRequest),"timeout"===this.data.ended_on||"response"===this.data.ended_on&&"Safari"===w?this.data.duration=this.internals.timestamps.end-this.internals.timestamps.render:this.data.duration=this.internals.timestamps.end-(this.internals.timestamps.show||this.internals.timestamps.render),await this.triggerMethod("end",e,n),this.internals.timeline.end(e+y.frameInterval),!1!==this.options.datacommit&&this.commit(Object.assign(Object.assign(Object.assign({},this.aggregateParameters),this.data),{time_run:this.internals.timestamps.run,time_render:this.internals.timestamps.render,time_show:this.internals.timestamps.show,time_end:this.internals.timestamps.end})),await this.triggerMethod("after:end",e,n);const r=t=>{this.internals.timestamps.switch=t,this.options.datastore.update(this.internals.logIndex,(e=>Object.assign(Object.assign({},e),{time_switch:t,duration:"timeout"===e.ended_on?t-(e.time_show||e.time_render):e.duration}))),j((()=>this.options.datastore.triggerMethod("idle"))),j((()=>this.epilogue()))};return n?window.requestAnimationFrame(r):window.requestAnimationFrame((()=>window.requestAnimationFrame(r))),e}epilogue(){this.internals.timeline.teardown(),this.internals.domConnection.teardown(),this.triggerMethod("epilogue")}commit(t={}){return this.internals.logIndex=this.options.datastore.commit(Object.assign(Object.assign(Object.assign({},this.metadata),t),{time_commit:performance.now(),timestamp:(new Date).toISOString()})),this.triggerMethod("commit")}get timer(){const t=this.internals.timestamps;switch(this.status){case Q.running:return performance.now()-(t.show||t.render);case Q.done:return this.internals.timestamps.end-(t.show||t.run);default:return}}get progress(){return 1*(this.status===Q.done)}get aggregateParameters(){return X(this,"parameters")}get _aggregateFiles(){return X(this,"files")}clone(e={}){const n=this.constructor.metadata.nestedComponents||[],r=Object.assign(Object.assign({},(0,t.cloneDeepWith)(this.internals.rawOptions,((t,e,r)=>{if(r===this.internals.rawOptions&&n.includes(e)){if(Array.isArray(t))return t.map((t=>t instanceof Component?t.clone():t));if(t instanceof Component)return t.clone()}}))),e);return new this.constructor(r)}get id(){return this.options.id.split("_").map((t=>parseInt(t)||t))}get metadata(){return{sender:this.options.title,sender_type:this.type,sender_id:this.options.id}}get parents(){let t=[],e=this;for(;e.parent;)e=e.parent,t=t.concat(e);return t.reverse()}get type(){return[...this.constructor.metadata.module,this.constructor.name].join(".")}}Component.metadata={module:["core"],nestedComponents:[],parsableOptions:{parameters:{type:"object",content:{"*":{}}},responses:{keys:{},content:{"*":"string"}},correctResponse:{},timeline:{type:"array",content:{type:"object",content:{start:{type:"number"},stop:{type:"number"},"*":"string",payload:{type:"object",content:{gain:{type:"number"},loop:{type:"boolean"},"*":"string"}}}}},timeout:{type:"number"},skip:{type:"boolean"}}};const nt=function(t,e){return t.forEach((t=>t.parent=e)),t.forEach(((t,n)=>{null==e.options.id?t.options.id=String(n):t.options.id=[e.options.id,n].join("_")})),Promise.all(t.map((t=>t.prepare(!1))))};class Sequence extends Component{constructor(t={}){super(Object.assign({content:[],shuffle:!1,indexParameter:void 0},t)),this.internals.currentComponent=null,this.internals.currentPosition=null}async onPrepare(){this.options.shuffle&&(this.options.content=this.random.shuffle(this.options.content)),this.options.indexParameter&&this.options.content.forEach(((t,e)=>t.options.parameters[this.options.indexParameter]=e)),this.internals.iterator=this.options.content.entries(),this.internals.stepper=this.step.bind(this),await nt(this.options.content,this)}async onRun(t,e){return this.step(t,e)}onEnd(){this.internals.currentComponent&&this.internals.currentComponent.status!==Q.done&&(this.internals.currentComponent.off("after:end",this.internals.stepper),this.internals.currentComponent.end("abort by sequence"))}async step(t,e){if(this.status===Q.done)throw new Error("Sequence ended, can't take any more steps");const n=this.internals.iterator.next();return n.done?this.end("completion",t,e):([this.internals.currentPosition,this.internals.currentComponent]=n.value,this.internals.currentComponent.on("after:end",this.internals.stepper),this.internals.currentComponent.run(t,e))}get progress(){return this.status===Q.done?1:(0,t.mean)(this.options.content.map((t=>t.progress)))}}Sequence.metadata={module:["flow"],nestedComponents:["content"],parsableOptions:{shuffle:{type:"boolean"}}};class Loop extends Sequence{constructor(t={}){super(Object.assign({template:null,templateParameters:[],sample:{n:void 0,mode:"sequential"},shuffleGroups:void 0,shuffleUngrouped:!1},t))}onPrepare(){let e=[];if(Array.isArray(this.options.templateParameters)&&this.options.templateParameters.length>0){const t=Array.isArray(this.options.shuffleGroups)&&this.options.shuffleGroups.length?this.random.shuffleTable(this.options.templateParameters,this.options.shuffleGroups,this.options.shuffleUngrouped):this.options.templateParameters;e=this.random.sampleMode(t,this.options.sample.n,!0===this.options.sample.replace?"draw-replace":this.options.sample.mode)}else console.warn("Empty or invalid parameter set for loop, no content generated");return this.options.template instanceof Component?this.options.content=e.map((t=>{const e=this.options.template.clone();return e.options.parameters=Object.assign(Object.assign({},e.options.parameters),t),e})):(0,t.isFunction)(this.options.template)?this.options.content=e.map(((t,e)=>this.options.template(t,e,this))):console.warn("Missing or invalid template in loop, no content generated"),super.onPrepare()}}Loop.metadata={module:["flow"],nestedComponents:["template"],parsableOptions:{templateParameters:{type:"array",content:{content:{"*":{}}}},sample:{type:"object",content:{n:{type:"number"},replace:{type:"boolean"},mode:{}}}}};class Parallel extends Component{constructor(t={}){super(Object.assign({content:[],mode:"race"},t))}async onPrepare(){await nt(this.options.content,this)}onRun(t){return Promise[this.options.mode](this.options.content.map((t=>t.waitFor("end")))).then((()=>this.end())),Promise.all(this.options.content.map((e=>e.run(t))))}onEnd(){this.options.content.forEach((t=>{t.status<Q.done&&t.end("abort by parallel")}))}get progress(){return this.status===Q.done?1:(0,t.mean)(this.options.content.map((t=>t.progress)))}}Parallel.metadata={module:["flow"],nestedComponents:["content"],parsableOptions:{mode:{}}};var rt,it,ot=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),st=(rt=["",""],it=["",""],Object.freeze(Object.defineProperties(rt,{raw:{value:Object.freeze(it)}})));function at(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}const ut=function(){function t(){for(var e=this,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return at(this,t),this.tag=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return"function"==typeof t?e.interimTag.bind(e,t):"string"==typeof t?e.transformEndResult(t):(t=t.map(e.transformString.bind(e)),e.transformEndResult(t.reduce(e.processSubstitutions.bind(e,r))))},r.length>0&&Array.isArray(r[0])&&(r=r[0]),this.transformers=r.map((function(t){return"function"==typeof t?t():t})),this.tag}return ot(t,[{key:"interimTag",value:function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return this.tag(st,t.apply(void 0,[e].concat(r)))}},{key:"processSubstitutions",value:function(t,e,n){var r=this.transformSubstitution(t.shift(),e);return"".concat(e,r,n)}},{key:"transformString",value:function(t){return this.transformers.reduce((function(t,e){return e.onString?e.onString(t):t}),t)}},{key:"transformSubstitution",value:function(t,e){return this.transformers.reduce((function(t,n){return n.onSubstitution?n.onSubstitution(t,e):t}),t)}},{key:"transformEndResult",value:function(t){return this.transformers.reduce((function(t,e){return e.onEndResult?e.onEndResult(t):t}),t)}}]),t}();var ct={separator:"",conjunction:"",serial:!1};const lt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct;return{onSubstitution:function(e,n){if(Array.isArray(e)){var r=e.length,i=t.separator,o=t.conjunction,s=t.serial,a=n.match(/(\n?[^\S\n]+)$/);if(e=a?e.join(i+a[1]):e.join(i+" "),o&&r>1){var u=e.lastIndexOf(i);e=e.slice(0,u)+(s?i:"")+" "+o+e.slice(u+1)}}return e}}};function ft(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}const ht=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(e){if("initial"===t){var n=e.match(/^[^\S\n]*(?=\S)/gm),r=n&&Math.min.apply(Math,ft(n.map((function(t){return t.length}))));if(r){var i=new RegExp("^.{"+r+"}","gm");return e.replace(i,"")}return e}if("all"===t)return e.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+t)}}};const pt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(e){if(""===t)return e.trim();if("start"===(t=t.toLowerCase())||"left"===t)return e.replace(/^\s*/,"");if("end"===t||"right"===t)return e.replace(/\s*$/,"");throw new Error("Side not supported: "+t)}}};new ut(lt({separator:","}),ht,pt);new ut(lt({separator:",",conjunction:"and"}),ht,pt);new ut(lt({separator:",",conjunction:"or"}),ht,pt);const dt=function(t){return{onSubstitution:function(e,n){if(null==t||"string"!=typeof t)throw new Error("You need to specify a string character to split by.");return"string"==typeof e&&e.includes(t)&&(e=e.split(t)),e}}};var gt=function(t){return null!=t&&!Number.isNaN(t)&&"boolean"!=typeof t};const mt=function(){return{onSubstitution:function(t){return Array.isArray(t)?t.filter(gt):gt(t)?t:""}}};new ut(dt("\n"),mt,lt,ht,pt);const vt=function(t,e){return{onSubstitution:function(n,r){if(null==t||null==e)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==n?n:n.toString().replace(t,e)}}};new ut(dt("\n"),lt,ht,pt,vt(/&/g,"&amp;"),vt(/</g,"&lt;"),vt(/>/g,"&gt;"),vt(/"/g,"&quot;"),vt(/'/g,"&#x27;"),vt(/`/g,"&#x60;"));const wt=function(t,e){return{onEndResult:function(n){if(null==t||null==e)throw new Error("replaceResultTransformer requires at least 2 arguments.");return n.replace(t,e)}}};new ut(wt(/(?:\n(?:\s*))+/g," "),pt);new ut(wt(/(?:\n\s*)/g,""),pt);new ut(lt({separator:","}),wt(/(?:\s+)/g," "),pt);new ut(lt({separator:",",conjunction:"or"}),wt(/(?:\s+)/g," "),pt);new ut(lt({separator:",",conjunction:"and"}),wt(/(?:\s+)/g," "),pt);new ut(lt,ht,pt);new ut(lt,wt(/(?:\s+)/g," "),pt);const bt=new ut(ht,pt);new ut(ht("all"),pt);const yt=(t={})=>Object.entries(t).map((([t,e])=>`${t}="${e}"`)).join(" "),_t=({label:t,coding:e},{name:n,required:r=!0},i)=>"radio"===i?bt`
        <tr>
          <td>
            <input
              type="radio"
              name="${n}"
              value="${e}"
              id="${n}-${e}"
              ${r?"required":""}
            >
          </td>
          <td>
            <label for="${n}-${e}">
              ${t}
            </label
          </td>
        </tr>
      `:"checkbox"===i?bt`
        <tr>
          <td>
            <input
              type="checkbox"
              name="${n}-${e}"
              id="${n}-${e}"
              ${r?"required":""}
            >
          </td>
          <td>
            <label for="${n}-${e}">
              ${t}
            </label
          </td>
        </tr>
      `:void 0,xt=(t,e)=>{const n=e.rng||new Random,r=(t=[],e=!1)=>e?n.shuffle(t):t;return bt`
    <main
      class="
        content-horizontal-center
        content-vertical-center
      "
    >
      <div class="w-${e.width||"m"} text-left">
        <form id="page-form" style="display: block;" autocomplete="off">
          ${t.map((t=>jt(t,Object.assign({shuffleMeMaybe:r},e)))).join("\n")}
        </form>
      </div>
    </main>
    ${(({submitButtonPosition:t="right",submitButtonText:e})=>"hidden"!==t?bt`
        <footer
          class="
            content-horizontal-${t}
            content-vertical-center
          "
        >
          <button type="submit" form="page-form">
            ${e}
          </button>
        </footer>
      `:"")(e)}
  `},jt=(e,{shuffleMeMaybe:n})=>{switch(e.type){case"text":return bt`
          <div class="page-item page-item-text">
            <h3>${e.title||""}</h3>
            ${e.content||""}
          </div>
        `;case"image":return bt`
          <div class="page-item page-item-image">
            <img
              src="${e.src}"
              style="${e.width&&"max-width: "+e.width} ${e.height&&"max-height: "+e.height}"
            >
          </div>
        `;case"html":return bt`
          <div class="page-item page-item-html">
            ${e.content||""}
          </div>
        `;case"divider":return bt`
          <div class="page-item page-item-divider">
            <hr>
          </div>
        `;case"input":return bt`
          <div class="page-item page-item-input" id="page-item-${e.name}">
            <p class="font-weight-bold" style="margin: 1rem 0 0.25rem">
              ${e.label||""}
            </p>
            <p class="small text-muted hide-if-empty" style="margin: 0.25rem 0">
              ${e.help||""}
            </p>
            <input name="${e.name}"
              ${e.required?"required":""}
              class="w-100"
              ${yt(e.attributes)}
            >
          </div>
        `;case"textarea":return bt`
          <div class="page-item page-item-textarea" id="page-item-${e.name}">
            <p class="font-weight-bold" style="margin: 1rem 0 0.25rem">
              ${e.label||""}
            </p>
            <p class="small text-muted hide-if-empty" style="margin: 0.25rem 0">
              ${e.help||""}
            </p>
            <textarea name="${e.name}"
              ${e.required?"required":""}
              class="w-100"
              rows="3"
            ></textarea>
          </div>
        `;case"radio":return bt`
          <div class="page-item page-item-radio" id="page-item-${e.name}">
            <p class="font-weight-bold" style="margin: 1rem 0 0.25rem">
              ${e.label||""}
            </p>
            <p class="small text-muted hide-if-empty" style="margin: 0.25rem 0">
              ${e.help||""}
            </p>
            <table class="table-plain page-item-table">
              <colgroup>
                <col style="width: 7.5%">
                <col style="width: 92.5%">
              </colgroup>
              <tbody>
                ${n(e.options||[],e.shuffle).map((t=>_t(t,e,"radio"))).join("\n")}
              </tbody>
            </table>
          </div>
        `;case"checkbox":return bt`
          <div class="page-item page-item-checkbox" id="page-item-${e.name}">
            <p class="font-weight-bold" style="margin: 1rem 0 0.25rem">
              ${e.label||""}
            </p>
            <p class="small text-muted hide-if-empty" style="margin: 0.25rem 0">
              ${e.help||""}
            </p>
            <table class="table-plain page-item-table">
              <colgroup>
                <col style="width: 7.5%">
                <col style="width: 92.5%">
              </colgroup>
              <tbody>
                ${n(e.options||[],e.shuffle).map((t=>_t(t,e,"checkbox"))).join("\n")}
              </tbody>
            </table>
          </div>
        `;case"slider":return bt`
          <div class="page-item page-item-range" id="page-item-${e.name}">
            <p class="font-weight-bold" style="margin: 1rem 0 0.25rem">
              ${e.label||""}
            </p>
            <p class="small text-muted hide-if-empty" style="margin: 0.25rem 0">
              ${e.help||""}
            </p>
            <input name="${e.name}" type="range"
              ${e.required?"required":""}
              class="w-100"
              ${yt(e.attributes)}
            >
          </div>
        `;case"likert":return bt`
          <div class="page-item page-item-likert" id="page-item-${e.name}">
            <p class="font-weight-bold" style="margin: 1rem 0 0.25rem">
              ${e.label||""}
            </p>
            <p class="small text-muted hide-if-empty" style="margin: 0.25rem 0">
              ${e.help||""}
            </p>
            <table class="page-item-table">
              <colgroup>
                <col style="width: 40%">
                ${(0,t.range)(e.width).map((()=>`<col style="width: ${60/e.width}%">`)).join("\n")}
              </colgroup>
              ${(({width:e,anchors:n})=>n.every((t=>!t))?"":bt`
      <thead class="sticky-top">
        <th class="sticky-top"></th>
        ${(0,t.range)(e).map((t=>bt`
            <th class="sticky-top text-center small">
              ${n[t]||""}
            </th>
          `)).join("\n")}
      </thead>
    `)(e)}
              <tbody>
                ${n(e.items||[],e.shuffle).map((n=>(({label:e,coding:n},{name:r,width:i,required:o=!0})=>bt`
    <tr>
      <td class="small" style="padding-left: 0">
        ${e}
      </td>
      ${(0,t.range)(1,Number(i)+1).map((t=>bt`
          <td class="text-center">
            <label style="height: 100%; padding: 10px 0">
              <input type="radio"
                name="${r}-${n}" value="${t}"
                ${o?"required":""}
              >
            </label>
          </td>
        `)).join("\n")}
    </tr>
  `)(n,e))).join("\n")}
              </tbody>
            </table>
          </div>
        `;default:console.error("Unknown page item type",e.type)}};class Screen extends Component{constructor(t){super(Object.assign({content:null,contentUrl:null},t))}onBeforePrepare(){return Promise.resolve().then((()=>this.options.contentUrl?fetch(this.options.contentUrl).then((t=>t.text())).then((t=>this.options.content=t)).catch((t=>console.log("Error while loading content: ",t))):null))}onRun(){this.options.el.innerHTML=this.options.content}}Screen.metadata={module:["html"],nestedComponents:[],parsableOptions:{content:{}}};class Form extends Screen{constructor(t={}){super(Object.assign({validator:()=>!0,scrollTop:!0},t)),this.options.events['click button[type="submit"]']=t=>{if(t.target.getAttribute("form")){const e=this.options.el.querySelector(`form#${t.target.getAttribute("form")}`);if(e){t.preventDefault(),t.stopPropagation();const n=document.createElement("input");return n.type="submit",n.style.display="none",e.appendChild(n),n.click(),e.removeChild(n),!1}}return!0},this.options.events["submit form"]=t=>this.submit(t)}onRun(){super.onRun();const t=this.options.el.querySelector("[autofocus]");t&&t.focus()}submit(t=null){return t&&t.preventDefault&&t.preventDefault(),this.validate()?(Object.assign(this.data,this.serialize()),this.end("form submission")):Array.from(this.options.el.querySelectorAll("form")).forEach((t=>t.setAttribute("data-labjs-validated",""))),!1}serialize(){const t=this.options.el.querySelectorAll("form"),e={};return Array.from(t).forEach((t=>{Array.from(t.elements).forEach((t=>{switch(t.nodeName.toLowerCase()){case"input":switch(t.type){case"checkbox":e[t.name]=t.checked;break;case"radio":t.checked&&(e[t.name]=t.value);break;default:e[t.name]=t.value}break;case"textarea":e[t.name]=t.value;break;case"select":switch(t.type){case"select-one":e[t.name]=t.value;break;case"select-multiple":e[t.name]=Array.from(t.options).filter((t=>t.selected)).map((t=>t.value))}}}))})),e}validate(){const t=this.options.el.querySelectorAll("form");return this.options.validator(this.serialize())&&Array.from(t).every((t=>t.checkValidity()))}}Form.metadata={module:["html"],nestedComponents:[]};class Ot extends Component{constructor(t={}){super(Object.assign({content:null,context:"",contextSelector:""},t))}async onPrepare(){const t=new DOMParser;this.internals.parsedContext=t.parseFromString(this.options.context,"text/html"),this.options.content.options.el=this.internals.parsedContext.querySelector(this.options.contextSelector),this.internals.contentEndHandler=()=>this.end(),this.options.content.on("after:end",this.internals.contentEndHandler),await nt([this.options.content],this)}async onRun(t,e){this.options.el.innerHTML="",Array.from(this.internals.parsedContext.body.children).forEach((t=>this.options.el.appendChild(t))),await this.options.content.run(t,e)}onEnd(){return this.options.content.status<Q.done?(this.options.content.off("after:end",this.internals.contentEndHandler),this.options.content.end("abort by frame")):Promise.resolve()}get progress(){return this.options.content.progress}}Ot.metadata={module:["html"],nestedComponents:["content"],parsableOptions:{context:{}}};class Page extends Form{onPrepare(){this.options.content=xt(this.options.items,{submitButtonText:this.options.submitButtonText,submitButtonPosition:this.options.submitButtonPosition,width:this.options.width,rng:this.random}),this.options.items.filter((t=>"image"===t.type&&t.src)).forEach((t=>this.options.media.images.push(t.src)))}}Page.metadata={module:["html"],nestedComponents:[],parsableOptions:{items:{type:"array",content:{type:"object",content:{"*":"string",attributes:{type:"object",content:{"*":"string"}},options:{type:"array",content:{type:"object",content:{"*":"string"}}},items:{type:"array",content:{type:"object",content:{"*":"string"}}}}}}}};const kt=t=>Math.PI*(t/180),Et=(t,e,n=0,r=[0,0],i=0)=>{const o=kt(n*(360/t)+i);return[e*Math.sin(o)+r[0],e*Math.cos(o)+r[1]]},St=(t,e,n={})=>{const r=Object.assign({translateOrigin:!0,viewportScale:"auto",devicePixelScaling:!0,canvasClientRect:{left:0,top:0}},n),i=r.translateOrigin?t[0]/2:0,o=r.translateOrigin?t[1]/2:0,s=r.devicePixelScaling?window.devicePixelRatio:1,a="auto"===r.viewportScale?Math.min(t[0]/(s*e[0]),t[1]/(s*e[1])):r.viewportScale;return{translateX:i,translateY:o,scale:a*s,viewportScale:a,pixelRatio:s}},At=(t,[e,n])=>[e*t[0]+n*t[2]+t[4],e*t[1]+n*t[3]+t[5]],Ct=(t,e)=>(n,r,i)=>(t||[]).forEach((t=>((t,e,n={})=>{switch(t.save(),t.beginPath(),t.translate(e.left,e.top),t.rotate(kt(e.angle)),e.type){case"line":t.moveTo(-e.width/2,0),t.lineTo(+e.width/2,0);break;case"rect":t.rect(-e.width/2,-e.height/2,e.width,e.height);break;case"triangle":t.moveTo(-e.width/2,e.height/2),t.lineTo(0,-e.height/2),t.lineTo(e.width/2,e.height/2),t.closePath();break;case"circle":t.arc(0,0,e.width/2,0,kt(360));break;case"ellipse":t.ellipse(0,0,e.width/2,e.height/2,0,0,kt(360));break;case"text":case"i-text":t.font=`${e.fontStyle||"normal"} ${e.fontWeight||"normal"} ${e.fontSize||32}px ${e.fontFamily||"sans-serif"}`,t.textAlign=e.textAlign||"center",t.textBaseline="middle";break;case"image":const[r,i]=n.images.readSync(e.src),o="width"===e.autoScale?r.naturalWidth*(e.height/r.naturalHeight):e.width,s="height"===e.autoScale?r.naturalHeight*(e.width/r.naturalWidth):e.height;t.drawImage(i||r,-o/2,-s/2,o,s);break;default:throw new Error("Unknown content type")}e.fill&&(t.fillStyle=e.fill,"i-text"!==e.type&&"text"!==e.type?t.fill():e.text.split("\n").forEach(((n,r,i)=>{t.fillText(n,0,(r-.5*(i.length-1))*(e.fontSize||32)*(e.lineHeight||1.16))}))),e.stroke&&e.strokeWidth&&(t.strokeStyle=e.stroke,t.lineWidth=e.strokeWidth||1,"i-text"!==e.type&&"text"!==e.type?t.stroke():e.text.split("\n").forEach(((n,r,i)=>{t.strokeText(n,0,(r-.5*(i.length-1))*(e.fontSize||32)*(e.lineHeight||1.16))}))),t.restore()})(i,t,e))),Tt=void 0!==window.DOMMatrixReadOnly?new window.DOMMatrixReadOnly:document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix(),Rt=(t,e)=>{const n=new Path2D;switch(e.type){case"aoi":n.rect(-e.width/2,-e.height/2,e.width,e.height);break;default:console.error("Content type not yet implemented")}const r=new Path2D;return r.addPath(n,Tt.translate(e.left,e.top).rotate(e.angle)),r},$t=function(t){return Object.assign({canvas:null,ctxType:"2d",ctx:null,insertCanvasOnRun:!1,translateOrigin:!0,viewport:[800,600],viewportScale:"auto",viewportEdge:!1,devicePixelScaling:null},t)},Pt=function(){null===this.options.canvas&&(this.options.canvas=document.createElement("canvas"),this.options.insertCanvasOnRun=!0),null===this.options.devicePixelScaling&&(this.options.devicePixelScaling=!0)},Mt=function(t=!0,e){if(this.options.insertCanvasOnRun){const n=this.options.devicePixelScaling?window.devicePixelRatio:1;e=e||this.options.el,t&&(e.innerHTML="");const r=window.getComputedStyle(e),i=e.clientWidth-parseInt(r.paddingLeft)-parseInt(r.paddingRight),o=e.clientHeight-parseInt(r.paddingTop)-parseInt(r.paddingBottom);this.options.canvas.width=i*n,this.options.canvas.height=o*n,this.options.canvas.style.display="block",this.options.canvas.style.width=`${i}px`,this.options.canvas.style.height=`${o}px`,t&&e.appendChild(this.options.canvas)}};class Ft extends Component{constructor(t={}){super(Object.assign({content:null,renderFunction:null,clearCanvas:!0},$t(t))),this.internals.frameRequest=null,this.render=this.render.bind(this)}onPrepare(){(this.options.content||[]).filter((e=>(0,t.isObject)(e)&&"image"===e.type&&e.src)).forEach((t=>this.options.media.images.push(t.src))),Pt.apply(this),this.internals.domConnection.processEvent=([t,e,n])=>{if(n&&n.startsWith("@")){const r=this.options.devicePixelScaling?window.devicePixelRatio:1;if(["mouseenter","mouseleave"].includes(t)){const i=function(t=!0,e=!0){let i=t;return function(t,o){const s=o.options.ctx.isPointInPath(o.internals.paths[n.slice(1)],t.offsetX*r,t.offsetY*r),a=e?!i&&s:i&&!s;return i=s,a}};return{eventName:"mousemove",filters:e,selector:"canvas",moreChecks:["mouseenter"==t?i(!0,!0):i(!1,!1)]}}return{eventName:t,filters:e,selector:"canvas",moreChecks:[t=>this.options.ctx.isPointInPath(this.internals.paths[n.slice(1)],t.offsetX*r,t.offsetY*r)]}}return{eventName:t,filters:e,selector:n}},null===this.options.renderFunction&&(this.options.renderFunction=Ct((this.options.content||[]).filter((e=>(0,t.isObject)(e)&&"aoi"!==e.type)),this.internals.controller.cache))}onRun(){Mt.apply(this),this.options.ctx=this.options.canvas.getContext(this.options.ctxType),this.options.ctx.save(),this.internals.transformationMatrix=((t,e,n)=>{const{translateX:r,translateY:i,scale:o}=St(t,e,n);return[o,0,0,o,r,i]})([this.options.canvas.width,this.options.canvas.height],this.options.viewport,{translateOrigin:this.options.translateOrigin,viewportScale:this.options.viewportScale,devicePixelScaling:this.options.devicePixelScaling}),this.options.ctx.setTransform(...this.internals.transformationMatrix)}onRender(t){return this.options.clearCanvas&&this.clear(),this.options.viewportEdge&&(this.options.ctx.save(),this.options.ctx.strokeStyle="rgb(229, 229, 229)",this.options.ctx.strokeRect(this.options.translateOrigin?-this.options.viewport[0]/2:0,this.options.translateOrigin?-this.options.viewport[1]/2:0,this.options.viewport[0],this.options.viewport[1]),this.options.ctx.restore()),this.options.renderFunction.call(this,t-this.internals.timestamps.render,this.options.canvas,this.options.ctx,this)}onShow(){var e;this.internals.paths=(e=this.options.content||[],(n,r,i)=>(0,t.fromPairs)(e.filter((t=>t.label&&["aoi"].includes(t.type))).map((t=>[t.label,Rt(0,t)]))))(0,this.options.canvas,this.options.ctx)}queueAnimationFrame(){this.internals.frameRequest=window.requestAnimationFrame((t=>{this.options.clearCanvas&&this.clear(),this.options.renderFunction.call(this,t-this.internals.timestamps.render,this.options.canvas,this.options.ctx,this)}))}onEnd(){this.options.ctx&&this.options.ctx.restore()}onEpilogue(){delete this.options.ctx,delete this.options.canvas}clear(){this.options.ctx.save(),this.options.ctx.setTransform(1,0,0,1,0,0),this.options.ctx.clearRect(0,0,this.options.canvas.width,this.options.canvas.height),this.options.ctx.restore()}transform(t){if(!this.internals.transformationMatrix)throw new Error("No transformation matrix set");return At(this.internals.transformationMatrix,t)}transformInverse(t,e=!1){if(!this.internals.transformationMatrix)throw new Error("No transformation matrix set");const n=((t,e,n)=>{const{translateX:r,translateY:i,scale:o,viewportScale:s}=St(t,e,n),{left:a,top:u}=!0===n.fromOffset?{left:0,top:0}:n.canvasClientRect;return[1/s,0,0,1/s,-r/o-a/s,-i/o-u/s]})([this.options.canvas.width,this.options.canvas.height],this.options.viewport,{translateOrigin:this.options.translateOrigin,viewportScale:this.options.viewportScale,devicePixelScaling:this.options.devicePixelScaling,canvasClientRect:this.options.canvas.getBoundingClientRect(),fromOffset:e});return At(n,t)}transformCanvasEvent({offsetX:t,offsetY:e}){return this.transformInverse([t,e],!0)}}Ft.metadata={module:["canvas"],nestedComponents:[],parsableOptions:{content:{type:"array",content:{type:"object",content:{text:{},fill:{},stroke:{},left:{type:"number"},top:{type:"number"},width:{type:"number"},height:{type:"number"},angle:{type:"number"},src:{},fontSize:{type:"number"},strokeWidth:{type:"number"}}}}}};class Frame extends Ot{constructor(t={}){super($t(Object.assign({context:"<canvas></canvas>"},t))),this.options.handMeDowns.includes("canvas")||this.options.handMeDowns.push("canvas","devicePixelScaling")}async onPrepare(){if(!Y(this,((t,e)=>t&&(e===this||e instanceof Ft||e instanceof Sequence||e instanceof Loop||e instanceof Parallel)),!0))throw new Error("CanvasFrame may only contain flow or canvas-based components");const t=new DOMParser;if(this.internals.parsedContext=t.parseFromString(this.options.context,"text/html"),this.options.canvas=this.internals.parsedContext.querySelector("canvas"),!this.options.canvas)throw new Error("No canvas found in context");this.options.content.options.el=null===this.options.canvas.parentElement||"BODY"===this.options.canvas.parentElement.tagName?this.options.el:this.options.canvas.parentElement,this.internals.contentEndHandler=()=>this.end(),this.options.content.on("after:end",this.internals.contentEndHandler),Pt.apply(this),this.options.insertCanvasOnRun=!0,await nt([this.options.content],this)}async onRun(t,e){this.options.el.innerHTML="",Array.from(this.internals.parsedContext.body.children).forEach((t=>this.options.el.appendChild(t))),Mt.apply(this,[!1,this.options.canvas.parentElement]),await this.options.content.run(t,e)}onEpilogue(){delete this.options.canvas,delete this.internals.parsedContext}}Frame.metadata={module:["canvas"],nestedComponents:["content"]};const It=(t,e)=>t.reduce(((t,e)=>t[e]),e),fromObject=(e,n)=>qt((0,t.cloneDeep)(e),n),qt=(e,r)=>{const i=r||window.lab;if(void 0===i)throw new Error("Couldn't find library in global scope, and no root object available");const[,...o]=e.type.split("."),s=It(o,i);return s.metadata.nestedComponents.forEach((n=>{e[n]&&(Array.isArray(e[n])?e[n]=e[n].map((t=>fromObject(t,i))):(0,t.isObject)(e[n])&&(e[n]=fromObject(e[n],i)))})),e.plugins&&(e.plugins=e.plugins.map((t=>{try{const[e,...r]=(t.path||t.type).split(".");return new(It(r,"global"===e?n.g||window:i))(t)}catch(e){throw new Error(`Couldn't instantiate plugin ${t.type}. Error: ${e.message}`)}}))),new s(e)},zt=fromObject,Lt=t=>(t.length>80?`<div class="labjs-debug-trunc">${t.substr(0,100)}</div>`:t).replace(/,/g,",&#8203;"),Dt=e=>`<td>${(e=>{switch(typeof e){case"number":return e>150?e.toFixed(0):e.toFixed(2);case"string":return Lt(e);case"undefined":return"";case"object":if((0,t.isPlainObject)(e))return Lt(JSON.stringify(e));default:return e}})(e)}</td>`;const Nt=t=>{const e="Are you sure you want to close this window?";return t.returnValue=e,e};const Bt=()=>{const t=window.Intl.DateTimeFormat().resolvedOptions();return{labjs_version:Wt,labjs_build:Ht,location:window.location.href,userAgent:window.navigator.userAgent,platform:window.navigator.platform,language:window.navigator.language,locale:t.locale,timeZone:t.timeZone,timezoneOffset:(new Date).getTimezoneOffset(),screen_width:window.screen.width,screen_height:window.screen.height,scroll_width:document.body.scrollWidth,scroll_height:document.body.scrollHeight,window_innerWidth:window.innerWidth,window_innerHeight:window.innerHeight,devicePixelRatio:window.devicePixelRatio}};const Ut=t=>{const e="Closing this window will abort the study. Are you sure?";return t.returnValue=e,e};const Wt="20.2.3",Ht={flavor:"production",commit:"1b55793d1b2dbd74d52a62ffc6754ffef985ae73"},Vt={Component,Dummy:class extends Component{constructor(t={}){super(Object.assign({skip:!0},t))}}},Gt={Frame,Screen:Ft},Kt={Screen,Form,Frame:Ot,Page},Zt={Sequence,Parallel,Loop},Jt={Debug:class{constructor({filePrefix:t="study"}={}){this.filePrefix=t}handle(t,e){switch(e){case"plugin:init":return this.onInit(t);case"prepare":return this.onPrepare();default:return null}}onInit(t){this.isVisible=!1,this.context=t,this.container=document.createElement("div"),this.container.id="labjs-debug",this.container.innerHTML='<style type="text/css">\n  .labjs-debug-opener {\n    font-size: 1.2rem;\n    color: var(--color-gray-content, #8d8d8d);\n    /* Box formatting */\n    width: 40px;\n    height: 32px;\n    padding: 6px 8px;\n    border-radius: 3px;\n    border: 1px solid var(--color-border, #e5e5e5);\n    z-index: 3;\n    background-color: var(--color-background, white);\n    /* Fixed position */\n    position: fixed;\n    bottom: 36px;\n    right: -5px;\n    /* Content centering */\n    display: flex;\n    align-items: center;\n    justify-content: left;\n  }\n\n  .labjs-debug-toggle {\n    cursor: pointer;\n  }\n\n  body.labjs-debugtools-visible .labjs-debug-opener {\n    display: none;\n  }\n\n  .labjs-debug-overlay {\n    font-family: var(--font-family, "Arial", sans-serif);\n    color: black;\n    /* Box formatting */\n    width: 100vw;\n    height: 30vh;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    z-index: 2;\n    background-color: white;\n    border-top: 2px solid var(--color-border, #e5e5e5);\n    display: none;\n    overflow: scroll;\n  }\n\n  #labjs-debug.labjs-debug-large .labjs-debug-overlay {\n    height: 100vh;\n  }\n\n  .labjs-debug-overlay-menu {\n    font-size: 0.8rem;\n    color: var(--color-gray-content, #8d8d8d);\n    padding: 8px 12px 6px;\n    border-bottom: 1px solid var(--color-border, #e5e5e5);\n  }\n\n  .labjs-debug-overlay-menu a {\n    color: var(--color-gray-content, #8d8d8d);\n  }\n\n  .labjs-debug-overlay-menu .pull-right {\n    font-size: 1rem;\n    float: right;\n  }\n\n  body.labjs-debugtools-visible .labjs-debug-overlay {\n    display: block;\n  }\n\n  .labjs-debug-overlay-contents {\n    padding: 12px;\n  }\n\n  .labjs-debug-overlay-contents table {\n    font-size: 0.8rem;\n  }\n\n  .labjs-debug-overlay-contents table tr.labjs-debug-state {\n    background-color: var(--color-gray-background, #f8f8f8);\n  }\n\n  /* Truncated cells */\n  .labjs-debug-trunc {\n    min-width: 200px;\n    max-width: 400px;\n  }\n  .labjs-debug-trunc::after {\n    content: "...";\n    opacity: 0.5;\n  }\n</style>\n<div class="labjs-debug-opener labjs-debug-toggle"><div>≡</div></div>\n<div class="labjs-debug-overlay">\n  <div class="labjs-debug-overlay-menu">\n    <div class="pull-right">\n      <span class="labjs-debug-toggle">&times;</span>\n    </div>\n    <code>lab.js</code> ·\n    data preview ·\n    <a href="#" class="labjs-debug-data-download">download csv</a>\n  </div>\n  <div class="labjs-debug-overlay-contents">\n    Contents\n  </div>\n</div>',Array.from(this.container.querySelectorAll(".labjs-debug-toggle")).forEach((t=>t.addEventListener("click",(()=>this.toggle())))),this.container.querySelector(".labjs-debug-overlay-menu").addEventListener("dblclick",(()=>this.container.classList.toggle("labjs-debug-large"))),this.container.querySelector(".labjs-debug-data-download").addEventListener("click",(e=>{e.preventDefault(),this.context.options.datastore?this.context.options.datastore.download("csv",t.options.datastore.makeFilename(this.filePrefix,"csv")):alert("No datastore to download from")})),document.body.appendChild(this.container)}onPrepare(){if(this.context.options.datastore){const e=(0,t.throttle)((()=>this.render()),100);this.context.options.datastore.on("set",e),this.context.options.datastore.on("commit",e),this.context.options.datastore.on("update",e)}}toggle(){this.isVisible=!this.isVisible,this.render(),document.body.classList.toggle("labjs-debugtools-visible")}render(){if(this.isVisible){let t;t=this.context.options.datastore?(t=>{const e=t.keys(!0),n=e.map((t=>`<th>${t}</th>`)),r=e.map((e=>Dt(t.state[e]))),i=t.data.slice().reverse().map((t=>`<tr> ${e.map((e=>Dt(t[e]))).join("")} </tr>`));return`\n    <table>\n      <tr>${n.join("\n")}</tr>\n      <tr class="labjs-debug-state">${r.join("\n")}</tr>\n      ${i.join("\n")}\n    </table>\n  `})(this.context.options.datastore):`\n  <div style="display: flex; width: 100%; height: 100%; align-items: center; justify-content: center;">\n    ${"No data store found in component"}\n  </div>`,this.container.querySelector(".labjs-debug-overlay-contents").innerHTML=t}}},Download:class{constructor({filePrefix:t,fileType:e}={}){this.el=null,this.filePrefix=t||"study",this.fileType=e||"csv"}handle(t,e){"end"===e&&t.options.datastore&&(window.addEventListener("beforeunload",Nt),this.el=document.createElement("div"),this.el.className="popover",this.el.innerHTML='\n        <div class="alert text-center">\n          <strong>Download data</strong>\n        </div>\n      ',this.el.addEventListener("click",(()=>{t.options.datastore.download(this.fileType,t.options.datastore.makeFilename(this.filePrefix,this.fileType)),window.removeEventListener("beforeunload",Nt)})),t.options.el.prepend(this.el))}},Fullscreen:class{constructor({message:t,hint:e,close:n}={}){this.options={message:t||"This experiment requires full screen display",hint:e||"Please click to continue in full screen mode",close:null==n||n}}async handle(t,e){if("before:run"!==e||document.fullscreenElement)"end"===e&&this.options.close&&lab.util.fullscreen.exit();else{const t=document.createElement("div");t.innerHTML=`\n        <div\n          class="modal w-m content-horizontal-center content-vertical-center text-center"\n        >\n          <p>\n            <span class="font-weight-bold">\n              ${this.options.message}\n            </span><br>\n            <span class="text-muted">\n              ${this.options.hint}\n            </span>\n          </p>\n        </div>\n      `,t.classList.add("overlay","content-vertical-center","content-horizontal-center"),document.body.appendChild(t),await new Promise((e=>{t.addEventListener("click",(async n=>{await lab.util.fullscreen.launch(document.documentElement),document.body.removeChild(t),e()}),{once:!0})}))}}},Logger:class{constructor(t={}){this.title=t.title}handle(t,e){console.log(`Component ${this.title} received ${e}`)}},Metadata:class{constructor(t={}){this.options=t}handle(e,n){if("prepare"===n){const n=(r=this.options.location_search||window.location.search,(0,t.fromPairs)(Array.from(new URLSearchParams(r).entries())));e.options.datastore.set({url:n,meta:Bt()})}var r}},NavigationGuard:class{handle(t,e){"prepare"===e?window.addEventListener("beforeunload",Ut):"end"===e&&window.removeEventListener("beforeunload",Ut)}},PostMessage:class{constructor({origin:t,target:e,messageType:n}={}){this.origin=t||"*",this.target=e||window.parent,this.messageType=n||"labjs.data"}handle(t,e){"epilogue"===e&&this.target.postMessage({type:this.messageType,metadata:{payload:"full",url:window.location.href},raw:t.options.datastore.data,json:t.options.datastore.exportJson(),csv:t.options.datastore.exportCsv()},this.origin)}},Submit:class{handle(t,e){if("after:end"===e&&t.options.datastore){const e=document.querySelector('form[name="labjs-data"]');try{const n=new ClipboardEvent("").clipboardData||new DataTransfer;n.items.add(new File([t.options.datastore.exportCsv()],"data.csv")),e.elements.dataFile.files=n.files}catch(n){console.log("Couldn't append data file to form falling back to direkt insertion. Error was",n),e.elements.dataRaw.value=t.options.datastore.exportCsv()}e.submit()}}},Transmit:class{constructor(t={}){this.url=t.url,this.metadata=t.metadata||{},this.metadata.id=this.metadata.id||B(),this.updates={incremental:!(t.updates&&!1===t.updates.incremental),full:!(t.updates&&!1===t.updates.full)},this.callbacks=t.callbacks||{},this.headers=t.headers||{},this.encoding=t.encoding||"json"}handle(t,e){const{url:n,metadata:r}=this;switch(e){case"prepare":this.updates.incremental&&t.options.datastore.on("idle",(function(){this.queueIncrementalTransmission(n,Object.assign(Object.assign({},r),{payload:"incremental"}),{headers:this.headers,encoding:this.encoding})})),this.callbacks.setup&&this.callbacks.setup.call(this);break;case"epilogue":this.updates.full&&t.options.datastore.transmit(n,Object.assign(Object.assign({},r),{payload:"full"}),{headers:this.headers,encoding:this.encoding}).then((e=>(this.updates.incremental&&t.options.datastore.flushIncrementalTransmissionQueue(),e))).then(this.callbacks.full)}}}},Yt={Store:g},Xt={Random,fromObject:zt,canvas:{makeRenderFunction:Ct,transform:At},combinatorics:{product:function*(...t){const e=t.map((t=>Math.max(t.length,1))).reverse().reduce(((t,e,n)=>t.concat([(t[n-1]||1)*e])),[]).reverse();for(let n=0;n<e[0];n++)yield t.map(((t,r)=>t[Math.floor(n/(e[r+1]||1))%t.length]))}},events:{logTimestamp:t=>function(e){e.preventDefault(),this.data[t]=x(e.timeStamp)}},fullscreen:{launch:t=>t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():void 0,exit:()=>document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():void 0},geometry:{distance:([t,e],[n,r])=>Math.sqrt((t-n)**2+(e-r)**2),polygon:(e,n,r=[0,0],i=0)=>(0,t.range)(e).map((t=>Et(e,n,t,r,i))),polygonVertex:Et,toRadians:kt},stats:{sum:q,mean:z,variance:L,std:t=>Math.sqrt(L(t))},timing:{FrameTimeout:E},tree:{traverse:J,reduce:Y}}})(),r})()}));
//# sourceMappingURL=lab.js.map